{"version":3,"sources":["api/api.ts","componets/Main/Profile/ProfileInfo/ProfileInfo.module.css","componets/common/input/Input.module.css","componets/common/buttons/Button.tsx","componets/Header/Header.module.css","componets/Login/Login.module.css","componets/Aside/Friends/Friends.module.css","componets/Main/SettingsPage/Settings.module.css","redux/dialogs-reducer.ts","componets/Main/Users/Users.module.css","componets/Aside/Nav/Nav.module.css","componets/Main/Profile/MyPosts/MyPosts.module.css","componets/Main/SettingsPage/SettingsPagesItems/SettingsUsers.module.css","img/ava_male.jpeg","api/dialogs-api.ts","componets/common/checkbox/Checkbox.module.css","componets/common/paginator/Paginator.module.css","componets/Main/Profile/Profile.module.css","componets/common/buttons/Button.module.css","componets/common/error/Error.module.css","api/chat-api.ts","redux/chat-reducer.ts","componets/common/textarea/Textarea.tsx","componets/common/searchInput/SearchInput.module.css","componets/Footer/Footer.module.css","componets/rxjs-learn/RxjsLearn.module.css","reportWebVitals.ts","redux/app-reducer.ts","redux/auth-reducer.ts","redux/profile-reducer.ts","redux/users-reducer.ts","redux/aside-reducer.ts","redux/redux-store.ts","redux/sidebar-reducer.ts","img/logo.png","componets/Header/Header.tsx","HOC/WithAuthRedirect.tsx","componets/Main/Chat/ChatWrap.tsx","componets/Main/Profile/MyPosts/MyPosts.tsx","componets/Main/Profile/MyPosts/MyPostsWrap.tsx","componets/common/preloader/preloader.tsx","componets/Main/Profile/ProfileInfo/ProfileStatus.tsx","img/profile/icons/download_button.png","componets/common/inputFormik/InputFormik.tsx","componets/common/checkbox/Checkbox.tsx","componets/common/textarea/TextareaFormik.tsx","componets/Main/Profile/ProfileInfo/ProfileInfo.tsx","componets/Main/Profile/ProfileInfo/ProfileInfoWrap.tsx","componets/Main/Profile/Profile.tsx","componets/common/input/Input.tsx","componets/Main/SettingsPage/SettingsPagesItems/SettingsUsers.tsx","componets/Main/SettingsPage/SettingsWrap.tsx","componets/Main/SettingsPage/Settings.tsx","componets/common/paginator/Paginator.tsx","componets/common/searchInput/SearchInput.tsx","componets/Main/Users/Users.tsx","selectors/users-selectors.ts","componets/Main/Users/UsersWrap.tsx","img/images-slider/1.png","img/images-slider/2.png","img/images-slider/3.png","img/images-slider/4.png","componets/Main/Slide/Slide.tsx","componets/Main/Main.tsx","componets/Aside/Nav/Nav.tsx","componets/Footer/Footer.tsx","componets/rxjs-learn/RxjsLearn.tsx","utils/validators/validators.ts","componets/Login/Login.tsx","componets/Aside/Friends/Friends.tsx","componets/common/error/Error.tsx","App.tsx","index.tsx"],"names":["resultCodeEnum","resultCodeForCaptchaEnum","instance","axios","create","baseURL","withCredentials","headers","authAPI","getAuthData","get","login","email","password","rememberMe","captcha","post","logout","delete","getCaptchaUrl","then","res","data","usersAPI","getUsers","pageSize","pageNumber","term","isFriend","getUsersMy","fetch","followPost","userId","followDelete","profileAPI","savePhoto","photoFile","photoData","FormData","append","put","updateProfileInfo","profileInfo","setStatus","status","getStatus","getProfileData","module","exports","Button","props","className","s","button","buttonType","onClick","click","value","SET_DIALOGS","SET_DIALOG_MESSAGES","CLEAN_DIALOG_MESSAGES","SET_DIALOG_ID","initialState","dialogMessages","dialogs","currentDialogId","isViewedMessage","dialogsReducer","state","action","type","messages","filter","m","index","array","length","id","dialogsPageActions","setDialogs","setDialogMessages","cleanDialogMessages","setDialogId","getDialogs","dispatch","dialogsAPI","response","catch","err","console","log","message","getDialogMessages","dialogId","items","sendDialogMessage","text","resultCode","updateOrAddDialog","deleteMessage","restoreMessage","body","messageId","addToSpam","subscribers","ws","closeHandler","setTimeout","createChannel","forEach","messageHandler","e","newMessages","JSON","parse","openHandler","errorHandler","cleanUp","WebSocket","addEventListener","close","removeEventListener","chatAPI","eventName","callback","push","send","UPDATE_MESSAGES","REMOVE_MESSAGES","SET_STATUS","chatReducer","map","v1","_newMessageHandler","newMessageHandlerCreator","_changeStatusHandler","changeStatusHandlerCreator","startMessagesListening","a","stopMessagesListening","sendMessage","Textarea","inputWrap","input","onChange","placeholder","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","INITIALIZE_SUCCESS","SET_OPEN_CHAT","SET_REJECTED_APP","SET_ERROR_TEXT","initialized","isOpendChat","rejectedApp","errorText","setOpenChat","isOpened","setRejectedApp","rejected","setErrorText","SET_AUTH_DATA","SET_ERROR_MESSAGE","SET_CAPTCHA_URL","SET_OWNER_PROFILE_INFO","SET_LOGIN_SUCCESS","isAuth","captchaUrl","ownerProfileInfo","errorMessage","loginSuccess","setAuthData","setErrorMessage","setCaptchaUrl","setLoginSuccess","success","Success","url","ADD_POST","UPDATE_POST_TEXT","SET_STATUS_TEXT","SET_PROFILE_INFO","UPDATE_PHOTO","posts","postText","likesCount","avaUrl","profilePageActions","info","FOLLOW_UNFOLLOW","SET_USERS","SET_USERS_COUNT","SET_PROGRESS","SET_FOLLOWING_PROGRESS","SET_PAGE_SIZE","SET_CURRENT_PAGE","SET_TERM","SET_IS_FRIEND","users","usersCount","currentPage","inProgress","followingInProgress","followingInProgressUsersId","usersActions","isProgress","size","page","SET_FRIENDS","SET_FRIENDS_COUNT","friends","totalFriendsCount","rootReducer","combineReducers","profilePage","newPost","Math","ceil","random","photos","dialogsPage","sidebar","usersPage","u","followed","item","auth","app","aside","count","chat","store","createStore","applyMiddleware","thunk","window","connect","userAva","small","getOwnerProfileInfo","ownerId","useState","isDropdownActive","setDropdownActive","useEffect","header","logoPic","src","logo","alt","headerNavWrap","dropdownMenu","dropdownMenuActive","dropDownMenuItem","headernavItem","headerNavItemAuth","to","href","withAuthRedirect","Component","Chat","React","lazy","compose","chatMessages","chatStatus","sessionStorage","path","fallback","MyPosts","memo","postsItems","p","Post","postsWrap","postsTitle","postsFormInput","updatePostText","currentTarget","addPost","postAva","ava","likes","MyPostsWrap","Preloader","ProfileStatus","editMode","setEditMode","statusText","setStatusText","submitStatus","profileStatus","autoFocus","onKeyPress","charCode","target","onBlur","onDoubleClick","InputFormik","field","form","rest","name","hasError","errors","touched","errorInput","Checkbox","isChecked","setChecked","checkLabel","checkbox","checked","icon","shadow","iconBox","xmlns","svgIcon","viewBox","fill","d","TextareaFormik","ProfileInfo","isEdit","setEdit","contacts","Object","entries","contactsItems","c","contactItem","toUpperCase","slice","contactsItemsUpdate","contactItemForm","component","profileInfoContainer","large","isOwner","inputFile","files","htmlFor","inputButton","inputButtonIcon","downLoadIcon","inputButtonText","initialValues","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","facebook","website","vk","twitter","instagram","youtube","github","mainLink","onSubmit","val","validateField","validateForm","description","profileInfoItemForm","contactsListWrap","contactsTitle","contactsList","editProfileErrorMessage","profileInfoItem","ProfileInfoWrap","withRouter","photo","match","params","history","Profile","profileContainer","Input","inputTypeStyle","SettingsUsers","isEditState","setEditState","pageSizeTemp","setPageSizeTemp","usersAmount","localStorage","usersSetWrap","usersSetTitle","usersSetContent","editSetBlock","editSetText","currentValueBlock","currentValue","usersSetButtons","setPageSize","SettingsWrap","setWrap","setTitle","contentWrap","setLinks","activeClassName","activeLink","setLink","linkTextWrap","setPages","render","Paginator","pagesCount","porsionsCount","leftPorsionPageNumber","currentPorsion","rightPorsionPageNumber","pagesNumbers","i","pages","setCurrentPage","paginator","arrows","setCurrentPorsion","prev","SearchInput","searchUsers","Users","setTerm","setIsFriend","usersItems","User","photoUrl","usersWrap","filterUsersBlock","userWrap","avaMale","userName","followButton","disabled","some","country","city","getUsersRes","createSelector","UsersWrapMiddle","UsersWrap","totalCount","Slide","loop","slidesPerView","speed","centeredSlides","navigation","prevEl","nextEl","style","backgroundImage","bg1","bg2","bg3","bg4","autoplay","muted","Main","mainContainer","ChatWrap","Nav","navContainer","navList","active","Footer","footerContainer","RxjsLearn","hello","validatioInputs","error","CaptchaIsRequired","loginWrap","inputItem","loginLabel","fieldDescriotion","validate","captchaBlock","commonErrorMessage","Friends","isFriendsBlock","setFriendsBlock","getFriends","shuffledFriends","sort","round","friendsDemo","f","shortName","demoItem","exact","navLinkFriend","demoImg","userPhoto","demoName","allFriends","friendsBlock","navFriends","allFriendsLink","friendsCount","demoBlock","friendsBlockActive","closeFriendsBlock","allFriendsBlock","CommonError","openedErrorWindow","closeErrorWindow","App","isCollapsedChat","setCollapseChat","catchAllUnhandledErrors","promiseRejectionEvent","reason","initialize","isOpenedChat","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.94beba7d.chunk.js","sourcesContent":["import axios from \"axios\"\nimport { profileInfoTypeWithoutPhotos } from \"../componets/Main/Profile/ProfileInfo/ProfileInfo\"\n\nlet apiKey = \"8844171b-8f1f-4905-bc9a-c6a452eff646\"\n\n// let apiKeyOlia = \"9a7954c5-9bc0-4375-83c0-e272d6fc4027\"\n\nexport const instance = axios.create({\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    withCredentials: true,\n    headers: {\n        \"API-KEY\": apiKey\n    }\n})\n\nexport enum resultCodeEnum {\n    Success = 0,\n    Error = 1\n}\nexport enum resultCodeForCaptchaEnum {\n    CaptchaIsRequired = 10\n}\n\ntype authResponseType = {\n    data: {id: number, email: string, login: string}\n    resultCode: resultCodeEnum\n    messages: string[]\n}\n\ntype loginResponseType = {\n    data: {userId: number}\n    resultCode: resultCodeForCaptchaEnum | resultCodeEnum\n    messages: string[]\n}\n\nexport const authAPI = {\n    getAuthData() {\n        return instance.get<authResponseType>('auth/me')\n    },\n    login(email: string, password: string, rememberMe: boolean, captcha: string | null) {\n        \n        return instance.post<loginResponseType>(`auth/login`, {email, password, rememberMe, captcha})\n        \n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    },\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`)\n    }\n}\nauthAPI.getAuthData().then(res => res.data)\n\nexport const usersAPI = {\n    getUsers(pageSize: number, pageNumber: number = 1, term: string = '', isFriend: boolean = false) {\n        return instance.get(`users?count=${pageSize}&page=${pageNumber}&term=${term}&friend=${isFriend}`)\n    },\n    getUsersMy() {\n        return fetch(`/users`)\n    },\n    followPost(userId: number) {\n        return instance.post(`follow/${userId}`)\n    },\n    followDelete(userId: number) {\n        return instance.delete(`follow/${userId}`)\n    }\n}\n\nexport const profileAPI = {\n    savePhoto(photoFile: File) {\n        const photoData = new FormData();\n        photoData.append(\"image\", photoFile)\n\n        return instance.put(`profile/photo/`, photoData, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\"\n            }\n        })\n    },\n    updateProfileInfo(profileInfo: profileInfoTypeWithoutPhotos) {\n        return instance.put(`profile`, profileInfo)\n    },\n    setStatus(status: string) {\n        return instance.put(`profile/status/`, {status: status})\n    },\n    getStatus(userId: number) {\n        return instance.get(`profile/status/${userId}`)\n    },\n    getProfileData(userId: number) {\n        return instance.get(`profile/${userId}`)\n    }\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfoContainer\":\"ProfileInfo_profileInfoContainer__1_F3Q\",\"ava\":\"ProfileInfo_ava__2JOF7\",\"inputFile\":\"ProfileInfo_inputFile__hdbMG\",\"inputButton\":\"ProfileInfo_inputButton__126_u\",\"inputButtonIcon\":\"ProfileInfo_inputButtonIcon__1wKKi\",\"inputButtonText\":\"ProfileInfo_inputButtonText__2Lqb_\",\"description\":\"ProfileInfo_description__1-tPa\",\"profileInfoItem\":\"ProfileInfo_profileInfoItem__2InUL\",\"contactItem\":\"ProfileInfo_contactItem__2Ums3\",\"profileInfoItemForm\":\"ProfileInfo_profileInfoItemForm__1YnIx\",\"contactItemForm\":\"ProfileInfo_contactItemForm__vH4O7\",\"contactsTitle\":\"ProfileInfo_contactsTitle__3zzw2\",\"contactsListWrap\":\"ProfileInfo_contactsListWrap__A2N4r\",\"contactsList\":\"ProfileInfo_contactsList__2um-u\",\"profileStatus\":\"ProfileInfo_profileStatus__8_wwk\",\"editProfileErrorMessage\":\"ProfileInfo_editProfileErrorMessage__1862D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrap\":\"Input_inputWrap__SHz1D\",\"input\":\"Input_input__2DnRK\",\"errorInput\":\"Input_errorInput__1wsye\",\"errorMessage\":\"Input_errorMessage__C0btO\"};","import React from \"react\";\nimport s from \"./Button.module.css\"\n\ntype propsType = {\n    value: string\n    click?: () => void\n    buttonType: string\n    disabled?: boolean\n}\n\nexport const Button: React.FC<propsType> = (props: propsType) => {\n\n    return <button className={s.button + ' ' + s[props.buttonType]} onClick={props.click}>\n            {props.value}\n        </button>\n    \n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1B6uv\",\"logoPic\":\"Header_logoPic__2V5_4\",\"headerNavWrap\":\"Header_headerNavWrap__1uK21\",\"headernavItem\":\"Header_headernavItem__XWIsk\",\"headerNavItemAuth\":\"Header_headerNavItemAuth__3mrUX\",\"dropdownMenu\":\"Header_dropdownMenu__3sOlU\",\"dropdownMenuActive\":\"Header_dropdownMenuActive__2AT7E\",\"dropDownMenuItem\":\"Header_dropDownMenuItem__2h3cH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrap\":\"Login_loginWrap__3IXLE\",\"inputItem\":\"Login_inputItem__3Z6z6\",\"loginLabel\":\"Login_loginLabel__12GVq\",\"loginInputCheckbox\":\"Login_loginInputCheckbox__3yl8T\",\"captchaBlock\":\"Login_captchaBlock__3XmRX\",\"commonErrorMessage\":\"Login_commonErrorMessage__Xqqm6\",\"fieldDescriotion\":\"Login_fieldDescriotion__1uJ0D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"Friends_friendsBlock__14y5s\",\"demoBlock\":\"Friends_demoBlock__34UpO\",\"navLinkFriend\":\"Friends_navLinkFriend__agSr7\",\"demoItem\":\"Friends_demoItem__37F7p\",\"demoImg\":\"Friends_demoImg__1HznC\",\"demoName\":\"Friends_demoName__L2Cty\",\"navFriends\":\"Friends_navFriends__1MBpw\",\"allFriendsLink\":\"Friends_allFriendsLink__1_noZ\",\"allFriends\":\"Friends_allFriends__CkA0z\",\"friendsBlockActive\":\"Friends_friendsBlockActive__3wSrJ\",\"allFriendsBlock\":\"Friends_allFriendsBlock__VyWtm\",\"closeFriendsBlock\":\"Friends_closeFriendsBlock__1RiqL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"setWrap\":\"Settings_setWrap__2OR1I\",\"contentWrap\":\"Settings_contentWrap__XKcYd\",\"setTitle\":\"Settings_setTitle__3gwmr\",\"setLinks\":\"Settings_setLinks__2ToC6\",\"linkTextWrap\":\"Settings_linkTextWrap__1GSWH\",\"setLink\":\"Settings_setLink__kBIZU\",\"activeLink\":\"Settings_activeLink__1lHsN\"};","import { Dispatch } from \"redux\";\nimport { dialogsAPI } from \"../api/dialogs-api\";\nimport { dialogsPageType, dialogsType } from \"./store\";\n\n\nconst SET_DIALOGS = \"Viktor-gif/dialogs/SET_DIALOGS\"\nconst SET_DIALOG_MESSAGES = \"Viktor-gif/dialogs/SET_DIALOG_MESSAGES\"\nconst CLEAN_DIALOG_MESSAGES = \"Viktor-gif/dialogs/CLEAN_DIALOG_MESSAGES\"\nconst SET_DIALOG_ID = \"Viktor-gif/dialogs/SET_DIALOG_ID\"\n\nconst initialState = {\n    dialogMessages: null,\n    dialogs: null,\n    currentDialogId: null,\n    isViewedMessage: false\n}\n\nexport const dialogsReducer = (state: dialogsPageType = initialState, action: any) => {\n    \n    switch (action.type) {\n        case SET_DIALOGS:\n            return {\n                ...state,\n                dialogs: action.dialogs\n            }\n        case SET_DIALOG_MESSAGES:\n            return {\n                ...state,\n                dialogMessages: [...action.messages]\n                .filter((m, index, array) => index >= array.length - 100 )\n            }\n        case CLEAN_DIALOG_MESSAGES:\n            return {\n                ...state,\n                dialogMessages: null\n            }\n        case SET_DIALOG_ID:\n            return {\n                ...state,\n                currentDialogId: action.id\n            }\n        default: return state\n    }\n}\n\n// actions\nexport const dialogsPageActions = {\n    setDialogs: (dialogs: dialogsType) => ({type: SET_DIALOGS, dialogs}),\n    setDialogMessages: (messages: dialogsType) => ({type: SET_DIALOG_MESSAGES, messages}),\n    cleanDialogMessages: () => ({type: CLEAN_DIALOG_MESSAGES}),\n    setDialogId: (id: number) => ({type: SET_DIALOG_ID, id}),\n}\n\n// thunks\nexport const getDialogs = () => (dispatch: Dispatch) => {\n    dialogsAPI.getDialogs().then(response => {\n        dispatch(dialogsPageActions.setDialogs(response.data))\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const getDialogMessages = (dialogId: number) => (dispatch: Dispatch) => {\n    dialogsAPI.getDialogMessages(dialogId).then(response => {\n        dispatch(dialogsPageActions.setDialogMessages(response.data.items))\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const sendDialogMessage = (text: string, dialogId: number) => (dispatch: any) => {\n    dialogsAPI.sendDialogMessage(text, dialogId).then(response => {\n        \n        \n        if (response.data.resultCode === 0) {\n            dispatch(getDialogMessages(dialogId))\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const updateOrAddDialog = (userId: number) => (dispatch: any) => {\n    dialogsAPI.updateOrAddDialog(userId).then(response => {\n        if (response.data.resultCode === 0) {\n            dispatch(getDialogs())\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const deleteMessage = (id: number | string) => (dispatch: any) => {\n    dialogsAPI.deleteMessage(id).then(response => {\n        if (response.data.resultCode === 0) {\n            // dispatch(getDialogMessages(dialogId))\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const restoreMessage = (id: number | string) => (dispatch: any) => {\n    dialogsAPI.restoreMessage(id).then(response => {\n        if (response.data.resultCode === 0) {\n            // dispatch(getDialogMessages(dialogId))\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersWrap\":\"Users_usersWrap__1j_EP\",\"userWrap\":\"Users_userWrap__2dkC6\",\"ava\":\"Users_ava__26Ip4\",\"userName\":\"Users_userName__2mK_o\",\"followButton\":\"Users_followButton__339bS\",\"status\":\"Users_status__25ogQ\",\"country\":\"Users_country__1Eis8\",\"city\":\"Users_city__23emo\",\"page\":\"Users_page__2psBq\",\"filterUsersBlock\":\"Users_filterUsersBlock__1LU17\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navContainer\":\"Nav_navContainer__2AlnK\",\"navList\":\"Nav_navList__ji-YX\",\"active\":\"Nav_active__361ys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsWrap\":\"MyPosts_postsWrap__2w3wJ\",\"postsTitle\":\"MyPosts_postsTitle__1r7hU\",\"postsForm\":\"MyPosts_postsForm__2yBE_\",\"postsFormInput\":\"MyPosts_postsFormInput__12trM\",\"submitBtn\":\"MyPosts_submitBtn__35lwJ\",\"postsItems\":\"MyPosts_postsItems__d3pdE\",\"post\":\"MyPosts_post__kma67\",\"postAva\":\"MyPosts_postAva__3lkRK\",\"postText\":\"MyPosts_postText__2qwvw\",\"likes\":\"MyPosts_likes__1fApj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersSetWrap\":\"SettingsUsers_usersSetWrap__3KdO8\",\"usersSetTitle\":\"SettingsUsers_usersSetTitle__3j8Sl\",\"usersSetContent\":\"SettingsUsers_usersSetContent__1bfvj\",\"currentValueBlock\":\"SettingsUsers_currentValueBlock__3Xhnv\",\"currentValue\":\"SettingsUsers_currentValue__2FG40\",\"editSetText\":\"SettingsUsers_editSetText__35iR3\"};","export default \"data:image/jpeg;base64,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\"","import { instance } from \"./api\"\n\nexport const dialogsAPI = {\n    getDialogs() {\n        return instance.get(`dialogs`)\n    },\n    getDialogMessages(dialogId: number) {\n        return instance.get(`dialogs/${dialogId}/messages`)\n    },\n    sendDialogMessage(message: string, dialogId: number) {\n        return instance.post(`dialogs/${dialogId}/messages`, {body: message})\n    },\n    updateOrAddDialog(userId: number) {\n        return instance.put(`dialogs/${userId}`)\n    },\n    deleteMessage(id: number | string) {\n        return instance.delete(`dialogs/messages/${id}`)\n    },\n    restoreMessage(messageId: string | number) {\n        return instance.put(`dialogs/messages/${messageId}/restore`)\n    },\n    isViewedMessage(messageId: string | number) {\n        return instance.get(`dialogs/messages/${messageId}/viewed`)\n    },\n    addToSpam() {\n        return instance.post(`dialogs/messages/0ab56605-b452-48b2-8b12-7517521aa75e/spam`)\n    }\n}\n\nexport type dialogMessageType = {\n    id: number\n    body: string\n    translatedBody: string | null\n    addedAt: string\n    senderId: number\n    senderName: string\n    recipientId: number\n    viewed: boolean\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkLabel\":\"Checkbox_checkLabel__ocP7U\",\"checkbox\":\"Checkbox_checkbox__mkpAj\",\"icon\":\"Checkbox_icon__3Osuv\",\"iconBox\":\"Checkbox_iconBox__3Iq_o\",\"svgIcon\":\"Checkbox_svgIcon__18PNR\",\"shadow\":\"Checkbox_shadow__h17XB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__hRyR5\",\"pages\":\"Paginator_pages__1W1SN\",\"page\":\"Paginator_page__1Dopj\",\"currentPage\":\"Paginator_currentPage__1D5eb\",\"arrows\":\"Paginator_arrows__SxZ6l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePage\":\"Profile_profilePage__1JzIQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1HP0a\",\"settings\":\"Button_settings__5tYvw\",\"usersFriendsSearch\":\"Button_usersFriendsSearch__18C_j\",\"followUnfollow\":\"Button_followUnfollow__26WkZ\",\"profileInfoButton\":\"Button_profileInfoButton__2rivJ\",\"addPost\":\"Button_addPost__3giYV\",\"addMessage\":\"Button_addMessage__1P790\",\"commonChat\":\"Button_commonChat__1a9-U\",\"deleteMessage\":\"Button_deleteMessage__1Jax8\",\"login\":\"Button_login__F0Brn\",\"actionWindow\":\"Button_actionWindow__R-501\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorText\":\"Error_errorText__1LRdQ\",\"closeErrorWindow\":\"Error_closeErrorWindow__2qH-n\"};","import React from \"react\"\n\nlet subscribers = {\n    \"messages-received\": [] as messagesSubscriberType[],\n    \"status-changed\": [] as statusSubscriberType[]\n}\n\nlet ws: WebSocket | null = null\n\nconst closeHandler = () => {\n    console.log('CLOSE WS')\n    setTimeout(() => createChannel(), 3000)\n    subscribers[\"status-changed\"].forEach(s => s(\"pending\"))\n}\nconst messageHandler = (e: MessageEvent) => {\n    let newMessages = JSON.parse(e.data)\n    subscribers[\"messages-received\"].forEach(s => s(newMessages))\n}\nconst openHandler = () => {\n    subscribers[\"status-changed\"].forEach(s => s(\"ready\"))\n}\nconst errorHandler = () => {\n    console.log('ERROR<<<<<<')\n    subscribers[\"status-changed\"].forEach(s => s(\"error\"))\n}\nfunction createChannel() {\n    cleanUp()\n    subscribers[\"status-changed\"].forEach(s => s(\"pending\"))\n    ws =  new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\n    ws.addEventListener('close', closeHandler)\n    ws.addEventListener('message', messageHandler)\n    ws.addEventListener('error', errorHandler)\n    ws.addEventListener('open', openHandler)\n}\nfunction cleanUp() {\n    ws?.close()\n    ws?.removeEventListener('close', closeHandler)\n    ws?.removeEventListener('message', messageHandler)\n    ws?.removeEventListener('open', openHandler)\n    ws?.removeEventListener('error', errorHandler)\n}\n\nexport const chatAPI = {\n    \n    subscribe(eventName: eventType, callback: messagesSubscriberType | statusSubscriberType) {\n        // @ts-ignore\n        subscribers[eventName].push(callback)\n        return () => {\n            // @ts-ignore\n            subscribers[eventName] = subscribers[eventName].filter(s => s !== callback)\n        }\n    },\n    unsubscribe(eventName: eventType,callback: messagesSubscriberType | statusSubscriberType) {\n        // @ts-ignore\n        subscribers[eventName] = subscribers[eventName].filter(s => s !== callback)\n    },\n    sendMessage(message: string) {\n        ws?.send(message)\n    },\n    start() {\n        createChannel()\n    },\n    stop() {\n        subscribers[\"messages-received\"] = []\n        subscribers[\"status-changed\"] = []\n        cleanUp()\n    },\n}\n\nexport type messagesSubscriberType = ((messages: chatMessageAPIType[]) => void)\nexport type statusSubscriberType = ((status: statusType) => void)\n\nexport type eventType = \"messages-received\" | \"status-changed\"\nexport type statusType = \"pending\" | \"ready\" | \"error\"\n\nexport type chatMessageAPIType = {\n    userId: number\n    userName: string\n    message: string\n    photo: string | null\n}","\nimport { Dispatch } from \"redux\"\nimport { chatAPI, chatMessageAPIType, statusType } from \"../api/chat-api\"\nimport { chatMessageType } from \"../componets/Main/Chat/Chat\"\nimport { chatType } from \"./store\"\nimport { v1 } from \"uuid\"\n\nconst UPDATE_MESSAGES = 'Viktor-gif/chat/UPDATE_MESSAGES'\nconst REMOVE_MESSAGES = 'Viktor-gif/chat/REMOVE_MESSAGES'\nconst SET_STATUS = 'Viktor-gif/chat/SET_STATUS'\n\nconst initialState = {\n    messages: null as chatMessageType[] | null,\n    status: \"pending\" as statusType\n}\n\nexport const chatReducer = (state: chatType = initialState, action: any) => {\n    switch (action.type) {\n        case UPDATE_MESSAGES:\n            action.messages && console.log(...action.messages)\n            return {\n                ...state,\n                messages: state.messages \n                    ? [...state.messages, ...action.newMessages.map((m: any) => ({...m, id: v1()}))]\n                    .filter((m, index, array) => index >= array.length - 100 )\n                    : [...action.newMessages.map((m: any) => ({...m, id: v1()}))]\n                    .filter((m, index, array) => index >= array.length - 100 )\n            }\n            \n        case REMOVE_MESSAGES:\n            return {\n                ...state,\n                messages: null\n            }\n        case SET_STATUS:\n            return {\n                ...state,\n                status: action.status\n            }\n        default: return state\n    }\n}\n\nexport const updateMessages = (newMessages: chatMessageAPIType[]) => ({type: UPDATE_MESSAGES, newMessages})\nexport const setStatus = (status: statusType) => ({type: SET_STATUS, status})\nexport const removeChatMessages = () => ({type: REMOVE_MESSAGES})\n\n// new messages from WebSocket (chat)\nlet _newMessageHandler: ((messages: chatMessageAPIType[]) => void) | null = null\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\n    \n    if (_newMessageHandler === null) {\n        \n        _newMessageHandler = (messages) => {\n            dispatch(updateMessages(messages))\n        }\n    }\n    return _newMessageHandler\n}\n\nlet _changeStatusHandler: ((status: statusType) => void) | null = null\nconst changeStatusHandlerCreator = (dispatch: Dispatch) => {\n    \n    if (_changeStatusHandler === null) {\n        \n        _changeStatusHandler = (status) => {\n            dispatch(setStatus(status))\n        }\n    }\n    return _changeStatusHandler\n}\n\n// redux-thunk\nexport const startMessagesListening = () => async(dispatch: any) => {\n    chatAPI.start()\n    chatAPI.subscribe(\"messages-received\", newMessageHandlerCreator(dispatch))\n    chatAPI.subscribe(\"status-changed\", changeStatusHandlerCreator(dispatch))\n}\nexport const stopMessagesListening = () => (dispatch: any) => {\n    \n    chatAPI.stop()\n    chatAPI.unsubscribe(\"messages-received\", newMessageHandlerCreator(dispatch))\n    chatAPI.unsubscribe(\"status-changed\", changeStatusHandlerCreator(dispatch))\n    dispatch(removeChatMessages())\n}\nexport const sendMessage = (message: string) => (dispatch: any) => {\n    \n    chatAPI.sendMessage(message)\n}","import React, { ChangeEvent } from \"react\";\nimport s from \"../input/Input.module.css\"\n\ntype propsType = {\n    value?: string\n    onChange?: (e: ChangeEvent<HTMLTextAreaElement>) => void\n    placeholder?: string\n    type?: string\n}\n\nexport const Textarea: React.FC<propsType> = (props: propsType) => {\n\n    return <div className={s.inputWrap}>\n                <textarea className={s.input}\n                    onChange={props.onChange}\n                    placeholder={props.placeholder}\n                    value={props.value}\n                    ></textarea>\n            </div>\n    \n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchUsers\":\"SearchInput_searchUsers__3AeIG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footerContainer\":\"Footer_footerContainer__2sMgM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hello\":\"RxjsLearn_hello__3WCfv\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","\nimport { getAuthData } from \"./auth-reducer\"\nimport { appType } from \"./store\"\n\nconst INITIALIZE_SUCCESS = 'Viktor-gif/app/INITIALIZE_SUCCESS'\nconst SET_OPEN_CHAT = 'Viktor-gif/app/SET_OPEN_CHAT'\nconst SET_REJECTED_APP = 'Viktor-gif/app/SET_REJECTED_APP'\nconst SET_ERROR_TEXT = 'Viktor-gif/app/SET_ERROR_TEXT'\n\nconst initialState = {\n    initialized: false,\n    isOpendChat: false,\n    rejectedApp: false,\n    errorText: ''\n}\n\nexport const appReducer = (state: appType = initialState, action: initializeSuccessType | setOpenChatType | setRejectedAppType | setErrorTextType): appType => {\n    switch (action.type) {\n        case INITIALIZE_SUCCESS:\n            return {\n                ...state,\n                initialized: true,\n            }\n        case SET_OPEN_CHAT:\n            return {\n                ...state,\n                isOpendChat: action.isOpened\n            }\n        case SET_REJECTED_APP:\n            return {\n                ...state,\n                rejectedApp: action.rejected\n            }\n        case SET_ERROR_TEXT:\n            return {\n                ...state,\n                errorText: action.text\n            }\n        default: return state\n    }\n}\n\ntype initializeSuccessType = {type: typeof INITIALIZE_SUCCESS}\nexport const initializeSuccess = (): initializeSuccessType => ({type: INITIALIZE_SUCCESS})\n\ntype setOpenChatType = {type: typeof SET_OPEN_CHAT, isOpened: boolean}\nexport const setOpenChat = (isOpened: boolean): setOpenChatType => ({type: SET_OPEN_CHAT, isOpened})\n\ntype setRejectedAppType = {type: typeof SET_REJECTED_APP, rejected: boolean}\nexport const setRejectedApp = (rejected: boolean): setRejectedAppType => ({type: SET_REJECTED_APP, rejected})\n\ntype setErrorTextType = {type: typeof SET_ERROR_TEXT, text: string}\nexport const setErrorText = (text: string): setErrorTextType => ({type: SET_ERROR_TEXT, text})\n\n// redux-thunk\nexport const initialize = () => (dispatch: any) => {\n    dispatch(getAuthData()).then(() => {\n        dispatch(initializeSuccess())\n    })\n    .catch((err: any) => {\n        console.log(err.message)\n    })\n}","\nimport { Dispatch } from \"redux\"\nimport { authAPI, profileAPI, resultCodeEnum, resultCodeForCaptchaEnum } from \"../api/api\"\nimport { setErrorText, setRejectedApp } from \"./app-reducer\"\nimport { authType, profileInfoType } from \"./store\"\n\nconst SET_AUTH_DATA = 'Viktor-gif/auth/SET_AUTH_DATA'\nconst SET_ERROR_MESSAGE = 'Viktor-gif/auth/SET_ERROR_MESSAGE'\nconst SET_CAPTCHA_URL = 'Viktor-gif/auth/SET_CAPTCHA_URL'\nconst SET_OWNER_PROFILE_INFO = 'Viktor-gif/auth/SET_OWNER_PROFILE_INFO'\nconst SET_LOGIN_SUCCESS = 'Viktor-gif/auth/SET_LOGIN_SUCCESS'\n\nconst initialState = {\n    id: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null,\n    ownerProfileInfo: null,\n    errorMessage: '',\n    loginSuccess: false\n}\n\nexport const authReducer = (state: authType = initialState, action: any): authType => {\n    switch (action.type) {\n        \n        case SET_AUTH_DATA:\n            return {\n                ...state,\n                ...action.data,\n                isAuth: action.isAuth\n            }\n        case SET_ERROR_MESSAGE:\n            return {\n                ...state,\n                errorMessage: action.message\n            }\n        case SET_CAPTCHA_URL:\n            return {\n                ...state,\n                captchaUrl: action.captchaUrl\n            }\n        case SET_OWNER_PROFILE_INFO:\n            return {\n                ...state,\n                ownerProfileInfo: action.profileInfo\n            }\n        case SET_LOGIN_SUCCESS:\n            return {\n                ...state,\n                loginSuccess: action.success\n            }\n        default: return state\n    }\n}\n\ntype setAuthDataType = {type: typeof SET_AUTH_DATA, isAuth: boolean, data: authDataType}\nexport const setAuthData = (data: authDataType, isAuth: boolean): setAuthDataType => {\n    return {type: SET_AUTH_DATA, data, isAuth}\n}\nexport const setErrorMessage = ( message: string) => {\n    return {type: SET_ERROR_MESSAGE, message}\n}\nexport const setCaptchaUrl = (captchaUrl: string | null) => {\n    return {type: SET_CAPTCHA_URL, captchaUrl}\n}\nexport const setOwnerProfileInfo = (profileInfo: profileInfoType) => {\n    return {type: SET_OWNER_PROFILE_INFO, profileInfo}\n}\nexport const setLoginSuccess = (success: boolean) => {\n    return {type: SET_LOGIN_SUCCESS, success}\n}\n\n// redux-thunk\nexport const getAuthData = () => (dispatch: any) => {\n    return authAPI.getAuthData().then(response => {\n        if (response.data.resultCode === resultCodeEnum.Success) {\n          dispatch(setAuthData(response.data.data, true))\n        }\n    })\n    .catch(err => {\n        dispatch(setErrorText(err.message))\n        dispatch(setRejectedApp(true))\n    })\n}\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string | null) => (dispatch: any) => {\n    dispatch(setLoginSuccess(true))\n    \n    authAPI.login(email, password, rememberMe, captcha).then(response => {\n        if (response.data.resultCode === resultCodeEnum.Success) {\n            console.log(response)\n            dispatch(getAuthData())\n            dispatch(setErrorMessage(''))\n            dispatch(setCaptchaUrl(null))\n            dispatch(setLoginSuccess(false))\n        } else if (response.data.resultCode === resultCodeForCaptchaEnum.CaptchaIsRequired){\n            dispatch(getCaptchaUrl())\n            dispatch (setErrorMessage(response.data.messages[0]))\n            dispatch(setLoginSuccess(false))\n        } else {\n            dispatch (setErrorMessage(response.data.messages[0]))\n            dispatch(setLoginSuccess(false))\n        }\n    })\n    .catch(err => {\n        dispatch(setLoginSuccess(false))\n        dispatch(setErrorText(err.message))\n        dispatch(setRejectedApp(true))\n    })\n    \n}\nexport const logout = () => (dispatch: any) => {\n    authAPI.logout().then(response => {\n        if (response.data.resultCode === 0) {\n            dispatch(setAuthData({id: null, email: null, login: null}, false))\n            dispatch(setCaptchaUrl(null))\n        }\n    })\n    .catch(err => {\n        dispatch(setErrorText(err.message))\n        dispatch(setRejectedApp(true))\n    })\n}\nexport const getCaptchaUrl = () => (dispatch: any) => {\n    authAPI.getCaptchaUrl().then(response => {\n        console.log(response.data.url)\n        dispatch(setCaptchaUrl(response.data.url))\n    })\n    .catch(err => {\n        dispatch(setErrorText(err.message))\n        dispatch(setRejectedApp(true))\n    })\n}\nexport const getOwnerProfileInfo = (ownerId: number) => (dispatch: Dispatch) => {\n    profileAPI.getProfileData(ownerId).then(response => {\n        dispatch(setOwnerProfileInfo(response.data))\n    })\n    .catch(err => {\n        dispatch(setErrorText(err.message))\n        dispatch(setRejectedApp(true))\n    })\n}\n\n\nexport type authDataType = {\n    id: number | null\n    email: string | null\n    login: string | null\n}","import { profileAPI } from \"../api/api\";\nimport { profileInfoTypeWithoutPhotos } from \"../componets/Main/Profile/ProfileInfo/ProfileInfo\";\nimport { photosType, profileInfoType, profilePageType } from \"./store\";\n\nconst ADD_POST = \"ADD_POST\"\nconst UPDATE_POST_TEXT = \"Viktor-gif/profile/UPDATE_POST_TEXT\"\nconst SET_STATUS_TEXT = \"Viktor-gif/profile/SET_STATUS_TEXT\"\nconst SET_PROFILE_INFO = \"Viktor-gif/profile/SET_PROFILE_INFO\"\nconst UPDATE_PHOTO = \"UPDATE_PHOTO\"\n\nconst initialState = {\n    posts: [\n        {id: 1, postText: \"Hello! how are you?\", likesCount: 48, avaUrl: \n            \"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960\"},\n        {id: 2, postText: \"This is my post.\", likesCount: 23, avaUrl: \n            \"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960\"},\n        {id: 3, postText: \"Never underastimate me!\", likesCount: 8, avaUrl: \n            \"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960\"},\n        {id: 4, postText: \"Bla-bla\", likesCount: 129, avaUrl: \n            \"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960\"}\n    ],\n    postText: \"\",\n    status: null,\n    profileInfo: null\n}\n\nexport const profileReducer = (state: profilePageType = initialState, action: any) => {\n    const posts = state.posts\n    switch (action.type){\n        case ADD_POST:\n            const newPost = {\n                id: posts[posts.length - 1].id + 1,\n                postText: state.postText,\n                likesCount: Math.ceil(Math.random() * 100),\n                avaUrl: \"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960\"\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n                postText: ''\n            }\n        case UPDATE_POST_TEXT:\n            return {\n                ...state,\n                postText: action.text\n            }\n        case SET_STATUS_TEXT:\n            return {\n                ...state,\n                status: action.status\n            }\n        case SET_PROFILE_INFO:\n            return {\n                ...state,\n                profileInfo: action.info\n            }\n        case UPDATE_PHOTO:\n            return {\n                ...state,\n                profileInfo: {\n                    ...state.profileInfo,\n                    photos: action.photos\n                }\n            }\n        \n        default: return state;\n        \n    }\n}\n\nexport const profilePageActions = {\n    addPost: () => ({type: ADD_POST}),\n    updatePostText: (text: string) => ({type: UPDATE_POST_TEXT, text})\n}\nexport const setProfileInfo = (info: profileInfoType) => ({type: SET_PROFILE_INFO, info})\nexport const setStatusText = (status: string) => ({type: SET_STATUS_TEXT, status})\nexport const updatePhoto = (photos: photosType) => ({type: UPDATE_PHOTO, photos})\n\n// redux-thunk\nexport const getProfileData = (userId: number) => (dispatch: any) => {\n    profileAPI.getProfileData(userId).then(response => {\n        dispatch(setProfileInfo(response.data))\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const getStatus = (userId: number) => (dispatch: any) => {\n    profileAPI.getStatus(userId).then(response => {\n        dispatch(setStatusText(response.data))\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const setStatus = (status: string, userId: number) => (dispatch: any) => {\n    profileAPI.setStatus(status).then(response => {\n        if (response.data.resultCode === 0) {\n            dispatch(getStatus(userId))\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const savePhoto = (photo: File) => (dispatch: any) => {\n    profileAPI.savePhoto(photo).then(response => {\n        console.log(response)\n        if (response.data.resultCode === 0) {\n            dispatch(updatePhoto(response.data.data.photos))\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const updateProfileInfo = (setEdit: any, \n    setErrorMessage: any, userId: number | null, \n    profileInfo: profileInfoTypeWithoutPhotos) => (dispatch: any) => {\n\n    // setEdit and setErrorMessage came from \"ProfileInfo.tsx\"\n    profileAPI.updateProfileInfo(profileInfo).then(response => {\n        console.log(response.data.messages[0])\n        if (response.data.resultCode === 0) {\n            if (userId) {\n                dispatch(getProfileData(userId))\n                setEdit(false)\n                setErrorMessage('')\n            }\n            \n        } else if (response.data.resultCode === 1) {\n            setErrorMessage(response.data.messages[0])\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\n    \n","import { Dispatch } from \"react\"\nimport { ThunkAction } from \"redux-thunk\"\nimport { usersAPI } from \"../api/api\"\nimport { appStateType, inferActionsTypes } from \"./redux-store\"\nimport { usersType, userType } from \"./store\"\n\nconst FOLLOW_UNFOLLOW = 'Viktor-gif/users/FOLLOW_UNFOLLOW'\nconst SET_USERS = 'Viktor-gif/users/SET_USERS'\nconst SET_USERS_COUNT = 'Viktor-gif/users/SET_USERS_COUNT'\nconst SET_PROGRESS = 'Viktor-gif/users/SET_PROGRESS'\nconst SET_FOLLOWING_PROGRESS = 'Viktor-gif/users/SET_FOLLOWING_PROGRESS'\nconst SET_PAGE_SIZE = 'Viktor-gif/users/SET_PAGE_SIZE'\nconst SET_CURRENT_PAGE = 'Viktor-gif/users/SET_CURRENT_PAGE'\nconst SET_TERM = 'Viktor-gif/users/SET_TERM'\nconst SET_IS_FRIEND = 'Viktor-gif/users/SET_IS_FRIEND'\n\ntype initialStateType = typeof initialState\n\nconst initialState = {\n    users: null as Array<userType> | null,\n    usersCount: null as number | null,\n    pageSize: 10,\n    currentPage: 1,\n    term: '',\n    isFriend: false,\n    inProgress: false,\n    followingInProgress: false,\n    followingInProgressUsersId: [] as Array<number>,\n}\n\nexport const usersReducer = (state: initialStateType = initialState, action: actionsTypes): initialStateType => {\n   \n    switch (action.type) {\n        case SET_USERS:\n            return {\n                ...state,\n                users: action.users\n            }\n        case FOLLOW_UNFOLLOW:\n            return {\n                ...state,\n                users: state.users ? state.users.map(u => {\n                    if (u.id === action.userId) {\n                        if (u.followed === false) {\n                            return {...u, followed: true}\n                        } else {\n                            return {...u, followed: false}\n                        }\n                    }\n                    return u\n                }) : null\n            }\n            case SET_USERS_COUNT:\n                return {\n                    ...state,\n                    usersCount: action.usersCount\n                }\n            case SET_PROGRESS:\n                return {\n                    ...state,\n                    inProgress: action.isProgress\n                }\n            case SET_FOLLOWING_PROGRESS:\n                return {...state,\n                    //@ts-ignore\n                    followingInProgressUsersId: action.isProgress \n                    ?\n                    [...state.followingInProgressUsersId, action.userId]\n                    : \n                    state.followingInProgressUsersId.filter(item => item !== action.userId),\n\n                    followingInProgress: action.isProgress\n                }\n            case SET_PAGE_SIZE:\n                return {\n                    ...state,\n                    pageSize: action.size\n                }\n            case SET_CURRENT_PAGE:\n                return {\n                    ...state,\n                    currentPage: action.page\n                }\n            case SET_TERM:\n                return {\n                    ...state,\n                    term: action.term\n                }\n            case SET_IS_FRIEND:\n                return {\n                    ...state,\n                    isFriend: action.isFriend\n                }\n        default: return state\n    }\n}\n\ntype actionsTypes = inferActionsTypes<typeof usersActions>\n\n// action-creators\nexport const usersActions = {\n    followUnfollow: (userId: number) => ({type: FOLLOW_UNFOLLOW, userId} as const),\n    setUsers: (users: usersType) => ({type: SET_USERS, users} as const),\n    setUsersCount: (usersCount: number) => ({type: SET_USERS_COUNT, usersCount} as const),\n    setProgress: (isProgress: boolean) => ({type: SET_PROGRESS, isProgress} as const),\n    setFollowingProgress: (userId: number | null, isProgress: boolean) => ({type: SET_FOLLOWING_PROGRESS, userId, isProgress} as const),\n    setPageSize: (size: number) => ({type: SET_PAGE_SIZE, size} as const),\n    setCurrentPage: (page: number) => ({type: SET_CURRENT_PAGE, page} as const),\n    setTerm: (term: string) => ({type: SET_TERM, term} as const),\n    setIsFriend: (isFriend: boolean) => ({ type: SET_IS_FRIEND, isFriend } as const),\n}\nexport const setPageSize = (size: number) => ({type: SET_PAGE_SIZE, size} as const)\n\n\n\n// thunk-creators\ntype dispatchType = Dispatch<actionsTypes>\ntype thunkType = ThunkAction<void, appStateType, unknown, actionsTypes>\n\nexport const getUsers = (pageSize: number, pageNumber: number, term: string, isFriend: boolean) => \n    (dispatch: dispatchType) => {\n    \n    dispatch(usersActions.setCurrentPage(pageNumber))\n    dispatch(usersActions.setTerm(term))\n    dispatch(usersActions.setIsFriend(isFriend))\n    dispatch(usersActions.setProgress(true))\n    usersAPI.getUsers(pageSize, pageNumber, term, isFriend).then(response => {\n        dispatch(usersActions.setUsersCount(response.data.totalCount))\n        dispatch(usersActions.setUsers(response.data.items))\n        dispatch(usersActions.setProgress(false))\n    })\n}\nexport const followPost = (userId: number) => (dispatch: dispatchType) => {\n    dispatch(usersActions.setFollowingProgress(userId, true))\n    usersAPI.followPost(userId).then(response => {\n        if (response.data.resultCode === 0) {\n            dispatch(usersActions.followUnfollow(userId))\n            dispatch(usersActions.setFollowingProgress(userId, false))\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\nexport const followDelete = (userId: number): thunkType => \n(dispatch) => {\n    dispatch(usersActions.setFollowingProgress(userId, true))\n    usersAPI.followDelete(userId).then(response => {\n        if (response.data.resultCode === 0) {\n            dispatch(usersActions.followUnfollow(userId))\n            dispatch(usersActions.setFollowingProgress(userId, false))\n        }\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}","import { usersAPI } from \"../api/api\";\nimport { asideType, usersType } from \"./store\";\n\nconst SET_FRIENDS = 'Viktor-gif/aside/SET_FRIENDS'\nconst SET_FRIENDS_COUNT = 'Viktor-gif/aside/SET_FRIENDS_COUNT'\n\nconst initialState = {\n    friends: null,\n    totalFriendsCount: 0\n}\n\nexport const asideReducer = (state: asideType = initialState, action: any) => {\n    switch (action.type) {\n        case SET_FRIENDS:\n            return {\n                ...state,\n                friends: action.friends || []\n            }\n        case SET_FRIENDS_COUNT:\n            return {\n                ...state,\n                totalFriendsCount: action.count\n            }\n        default: return state\n    }\n}\n\nexport const setFriends = (friends: usersType) => ({\n    type: SET_FRIENDS, friends\n})\nexport const setFriendsCount = (count: number) => ({\n    type: SET_FRIENDS_COUNT, count\n})\n\n// thunk-creators\nexport const getFriends = () => (dispatch: any) => {\n    usersAPI.getUsers(100, 1, '', true).then(response => {\n        dispatch(setFriends(response.data.items))\n        dispatch(setFriendsCount(response.data.totalCount))\n    })\n    .catch(err => {\n        console.log(err.message)\n    })\n}\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport { authReducer } from \"./auth-reducer\";\nimport { dialogsReducer } from \"./dialogs-reducer\";\nimport { profileReducer } from \"./profile-reducer\";\nimport { sidebarReducer } from \"./sidebar-reducer\";\nimport { usersReducer } from \"./users-reducer\";\nimport thunk from \"redux-thunk\";\nimport { appReducer } from \"./app-reducer\";\nimport { asideReducer } from \"./aside-reducer\";\nimport { chatReducer } from \"./chat-reducer\";\n\nconst rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n    aside: asideReducer,\n    chat: chatReducer\n});\n\ntype rootReducerType = typeof rootReducer\nexport type appStateType = ReturnType<rootReducerType>\n\ntype propertiesTypes<T> = T extends{[key: string]: infer U} ? U : never\n\nexport type inferActionsTypes<T extends{[key: string]: (...args: any[]) => any}> = ReturnType<propertiesTypes<T>>\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\n\n//@ts-ignore\nwindow.store = store\n\nexport default store","\nconst initialState = null\n\nexport const sidebarReducer = (state: null = initialState, action: any) => {\n    switch (action.type) {\n        default: return state;\n    }\n}","export default __webpack_public_path__ + \"static/media/logo.092a2033.png\";","import React, { useState, useEffect }  from \"react\";\nimport { connect } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport logo from \"../../img/logo.png\";\nimport { stateType } from \"../../redux/store\";\nimport s from \"./Header.module.css\";\nimport { logout, getOwnerProfileInfo } from \"../../redux/auth-reducer\"\n\ntype propsType = {\n    isAuth: boolean\n    login: string | null\n    userAva: string | null | undefined\n    userId: number | null\n\n    logout: () => void\n    getOwnerProfileInfo: (ownerId: number) => void\n}\n\nconst Header = (props: propsType) => {\n\n    const [isDropdownActive, setDropdownActive] = useState(false)\n\n    useEffect(() => {\n        (props.userId) && props.getOwnerProfileInfo(props.userId)\n    }, [props.userId])\n\n    const navToggleClick = () => {\n        if (isDropdownActive) {\n            setDropdownActive(false)\n        } else if (!isDropdownActive) {\n            setDropdownActive(true) \n        }\n        \n        // if (isDropdownActive === true) {\n        //     debugger\n        //     setDropdownActive(false)\n        // }\n        // if (isDropdownActive === false) {\n        //     debugger\n        //     setDropdownActive(true) \n        // }\n    }\n\n    return <div className={s.header}>\n        <img className={s.logoPic} src={logo} alt=\"logo\" />\n        <div>{props.isAuth\n            ? <div onClick={navToggleClick} className={s.headerNavWrap}>\n                {/* <span className={s.headernavItem}>props.login</span> */}\n                <ul id='dropDownMenu'\n                className={s.dropdownMenu + ' ' + (isDropdownActive && s.dropdownMenuActive)}>\n                    <li className={s.dropDownMenuItem}>Settings</li>\n                    <li onClick={props.logout} className={s.dropDownMenuItem}>Log out</li>\n                </ul>\n                <div id='headerMenu'\n                    className={s.headernavItem + \" \" + s.headerNavItemAuth}>\n                    <img src={props.userAva ? props.userAva : \"\"} alt=\"userAva\" />\n                </div>\n                \n                \n                {/* <button className={s.headernavItem} onClick={props.logout}>Log out</button> */}\n            </div> : \n            <div className={s.headerNavWrap}>\n                <NavLink className={s.headernavItem} to=\"/login\"><button>Sign in</button></NavLink>\n                <a className={s.headernavItem} href=\"/login\"><button>Sign up</button></a>\n            </div>}\n        </div>\n    </div>\n}\n\nconst mapStateToProps = (state: stateType) => ({\n    userAva: state.auth.ownerProfileInfo?.photos.small,\n    userId: state.auth.id\n})\n\nexport default connect(mapStateToProps, {logout, getOwnerProfileInfo})(Header)","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router\"\nimport { stateType } from \"../redux/store\"\n\nexport const withAuthRedirect = (Component: any) => {\n    const WithAuthRedirectComponent = (props: any) => {\n        if (!props.isAuth) return <Redirect to=\"login\" />\n        return <Component {...props} />\n    }\n\n    const mapStateToProps = (state: stateType) => ({\n        isAuth: state.auth.isAuth\n    })\n\n    return connect(mapStateToProps, {})(WithAuthRedirectComponent)\n}","import React, { Suspense } from \"react\";\nimport { dialogsType, stateType } from \"../../../redux/store\";\nimport { getDialogMessages, getDialogs, deleteMessage, restoreMessage } from \"../../../redux/dialogs-reducer\";\nimport { connect } from \"react-redux\";\nimport { withAuthRedirect } from \"../../../HOC/WithAuthRedirect\";\nimport { compose } from \"redux\";\nimport { statusType } from \"../../../api/chat-api\";\nimport { chatMessageType } from \"./messages/Messages\";\nimport { dialogMessageType } from \"../../../api/dialogs-api\";\n\nconst Chat = React.lazy(() => import(\"./Chat\"))\n\ntype propsType = {\n    dialogs: dialogsType\n    ownerId: number\n    chatMessages: chatMessageType[] | null\n    chatStatus: statusType\n    dialogMessages: dialogMessageType[] | null\n    currentDialogId: number\n\n    getDialogs: () => void\n    getDialogMessages: (dialogId: number) => void\n    deleteMessage: (id: number | string) => void\n    restoreMessage: (id: number | string) => void\n}\n\nconst ChatsWrap = (props: propsType) => {\n\n    sessionStorage.path = 'dialogs'\n\n    return <div>\n        <Suspense fallback={<div>Loading...</div>}>\n            <Chat dialogs={props.dialogs} ownerId={props.ownerId}\n                getDialogs={props.getDialogs} getDialogMessages={props.getDialogMessages}\n                chatMessages={props.chatMessages} chatStatus={props.chatStatus}\n                dialogMessages={props.dialogMessages} currentDialogId={props.currentDialogId}\n                deleteMessage={props.deleteMessage} restoreMessage={props.restoreMessage} />\n        </Suspense>\n        \n    </div>\n}\n\nconst mapStateToProps = (state: stateType) => {\n    return {\n        dialogs: state.dialogsPage.dialogs,\n        ownerId: state.auth.id,\n        chatMessages: state.chat.messages,\n        chatStatus: state.chat.status,\n        dialogMessages: state.dialogsPage.dialogMessages,\n        currentDialogId: state.dialogsPage.currentDialogId,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        getDialogs: () => dispatch(getDialogs()),\n        getDialogMessages: (dialogId: number) => dispatch(getDialogMessages(dialogId)),\n        deleteMessage: (id: number | string) => dispatch(deleteMessage(id)),\n        restoreMessage: (id: number | string) => dispatch(restoreMessage(id))\n    }\n}\n\nexport default compose(\n    withAuthRedirect,\n    connect(mapStateToProps, mapDispatchToProps)\n)(ChatsWrap)\n\n// export const DialogsWrap = withAuthRedirect(connect(mapStateToProps, mapDispatchToProps)(Dialogs))\n\n","import React, { ChangeEvent } from \"react\";\nimport { postsType } from \"../../../../redux/store\";\nimport s from \"./MyPosts.module.css\";\nimport ava from \"../../../../img/ava_male.jpeg\";\nimport { Button } from \"../../../common/buttons/Button\";\nimport { Textarea } from \"../../../common/textarea/Textarea\";\n\n\ntype myPostsPropsType = {\n    posts: postsType\n    postText: string\n    addPost: () => void\n    updatePostText: (text: string) => void\n}\ntype postPropsType = {\n    id: number\n    key: number\n    postText: string\n    likesCount: number\n}\n\nexport const MyPosts = React.memo((props: myPostsPropsType) => {\n    console.log('renderM my posts')\n    const postsItems = props.posts.map(p => {\n        return <Post id={p.id} key={p.id} \n                postText={p.postText} likesCount={p.likesCount} />\n    })\n\n    const textareaInput: React.RefObject<HTMLTextAreaElement> = React.createRef();\n\n    const addPost = () => {\n        props.addPost();\n    }\n\n    const changePostText = (e: ChangeEvent<HTMLTextAreaElement>) => {\n        props.updatePostText(e.currentTarget.value);\n    }\n\n    return (\n        <div className={s.postsWrap}>\n            <h3 className={s.postsTitle}>My posts</h3>\n            {/* <form className={s.postsForm}> */}\n                <div className={s.postsFormInput}>\n                    <Textarea value={props.postText}\n                            onChange={changePostText}\n                            placeholder=\"Your post-text\" />\n\n                </div>\n                <Button click={addPost} buttonType=\"addPost\" value=\"Submit\" />\n            {/* </form> */}\n            <div className={s.postsItems}>\n                {postsItems}\n            </div>\n        </div>\n    )\n})\n\nexport const Post = React.memo((props: postPropsType) => {\n    return (\n        <div className={s.post}>\n            <div className={s.postAva}>\n                <img src={ava} alt=\"My_ava\" />\n            </div>\n            <div className={s.postText}>{props.postText}</div>\n            <div className={s.likes}><span>Likes</span>: {props.likesCount}</div>\n        </div>\n    )\n})","import React from \"react\";\nimport { stateType } from \"../../../../redux/store\";\nimport { profilePageActions } from \"../../../../redux/profile-reducer\";\nimport { MyPosts } from \"./MyPosts\";\nimport { connect } from \"react-redux\";\n\nconst mapStateToProps = (state: stateType) => {\n    return {\n        posts: state.profilePage.posts,\n        postText: state.profilePage.postText\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        addPost: () => dispatch(profilePageActions.addPost()),\n        updatePostText: (text: string) => dispatch(profilePageActions.updatePostText(text))\n    }\n}\n\nexport const MyPostsWrap = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n","import React from 'react';\nimport './preloader.css';\n\nexport const Preloader = () => {\n    return (\n        <div className=\"loadingio-spinner-spinner-n5382r8q7mr\">\n            <div className=\"ldio-f6ewwic9h5v\">\n                <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n            </div>\n        </div>\n            )\n}\n\n","import React, { useEffect, useState } from \"react\";\nimport s from \"./ProfileInfo.module.css\";\n\ntype profileInfoPropsType = {\n    status: string | null\n    userId: number\n    setStatus: (status: string, userId: number) => void\n}\n\nexport const ProfileStatus = React.memo((props: profileInfoPropsType) => {\n\n    console.log(props.status)\n\n    const [editMode, setEditMode] = useState(false)\n    const [statusText, setStatusText] = useState(props.status || '')\n\n    useEffect(() => {\n        props.status && setStatusText(props.status)\n    }, [props.status])\n\n    const submitStatus = () => {\n        props.setStatus(statusText, props.userId)\n        setEditMode(false)\n    }\n\n    const submitStatusByEnterPress = (e: any) => {\n        if (e.charCode === 13) {\n            submitStatus()\n        }\n    }\n\n    const onStatusChange = (e: any) => {\n        setStatusText(e.target.value)\n    }\n\n    return (\n        \n        <div className={s.profileStatus}>\n            {editMode ? <input type=\"text\" value={statusText} autoFocus\n                onKeyPress={submitStatusByEnterPress}\n                onChange={onStatusChange}\n                onBlur={submitStatus} /> \n                : <span onDoubleClick={() => setEditMode(true)}>\n                    {props.status ? props.status : '-------------------'}\n                </span>}\n            \n        </div> \n        \n    )\n})","export default __webpack_public_path__ + \"static/media/download_button.e5a2f77d.png\";","import Reat from \"react\"\nimport s from \"../input/Input.module.css\"\n\nexport const InputFormik = ({field, form, ...rest}: any) => {\n    \n    const name = field.name\n    const hasError = form.errors[name] && form.touched[name]\n    \n    return (\n        <div>\n            <div className={s.inputWrap}>\n                <input className={s.input + \" \" + (hasError ? s.errorInput : \"\")}\n                {...field} {...rest} />\n            </div>\n            {hasError && <div className={s.errorMessage}>{form.errors[name]}</div>}\n        </div>\n        \n    )\n}","import React, { useState } from \"react\";\nimport s from \"./Checkbox.module.css\"\n\nexport const Checkbox: React.FC<any> = ({field, form, ...rest}: any) => {\n    const [isChecked, setChecked] = useState(false)\n\n    // const name = field.name\n\n    const checkboxClick = (e: any) => {\n        setChecked(e.target.checked)\n    }\n\n    return <label className={s.checkLabel}>\n        <input className={s.checkbox} type=\"checkbox\" onClick={checkboxClick} {...field} {...rest} />\n        <div className={s.icon}>\n            <div className={s.shadow}></div>\n            <div className={s.iconBox}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className={isChecked ? s.svgIcon : \"\"} viewBox=\"0 0 512 512\" fill={isChecked ? \"#00ffe2\" : \"#333\"}>\n                    <title>Power</title>\n                    <path d=\"M256 464c-114.69 0-208-93.47-208-208.35 0-62.45 27.25-121 74.76-160.55a22 22 0 1128.17 33.8C113.48 160.1 92 206.3 92 255.65 92 346.27 165.57 420 256 420s164-73.73 164-164.35A164 164 0 00360.17 129a22 22 0 1128-33.92A207.88 207.88 0 01464 255.65C464 370.53 370.69 464 256 464z\"/>\n                    <path d=\"M256 272a22 22 0 01-22-22V70a22 22 0 0144 0v180a22 22 0 01-22 22z\"/>\n                </svg>\n            </div>\n        </div>\n    </label>\n}","import Reat from \"react\"\nimport s from \"../input/Input.module.css\"\n\nexport const TextareaFormik = ({field, form, ...rest}: any) => {\n    \n    const name = field.name\n    const hasError = form.errors[name] && form.touched[name]\n    \n    return (\n        <div>\n            <div className={s.inputWrap}>\n                <textarea className={s.input + \" \" + (hasError ? s.errorInput : \"\")}\n                {...field} {...rest} />\n            </div>\n            {hasError && <div className={s.errorMessage}>{form.errors[name]}</div>}\n        </div>\n        \n    )\n}","import React, { useState } from \"react\";\nimport s from \"./ProfileInfo.module.css\";\nimport ava from \"../../../../img/ava_male.jpeg\";\nimport { contactsType, profileInfoType } from \"../../../../redux/store\";\nimport { Preloader } from \"../../../common/preloader/preloader\";\nimport { ProfileStatus } from \"./ProfileStatus\";\nimport downLoadIcon from \"../../../../img/profile/icons/download_button.png\"\nimport {Formik, Form, Field} from \"formik\"\nimport { Button } from \"../../../common/buttons/Button\";\nimport { InputFormik } from \"../../../common/inputFormik/InputFormik\";\nimport { Checkbox } from \"../../../common/checkbox/Checkbox\";\nimport { TextareaFormik } from \"../../../common/textarea/TextareaFormik\";\n\nexport type profileInfoTypeWithoutPhotos = {\n    aboutMe: string | null\n    userId: number | null\n    lookingForAJob: boolean\n    lookingForAJobDescription: string | null\n    fullName: string\n    contacts: contactsType\n} | null\n\ntype profileInfoPropsType = {\n    status: string | null\n    profileInfo: profileInfoType\n    isAuth: boolean\n    userId: number | null\n    isOwner: boolean\n\n    setStatus: (status: string, userId: number) => void\n    savePhoto: (photo: File) => void\n    updateProfileInfo: (setEdit: any, setErrorMessage: any, userId: number | null, profileInfo: profileInfoTypeWithoutPhotos) => void\n    setOpenChat: (isOpen: boolean) => void\n    updateOrAddDialog: (userId: number) => void\n    getDialogMessages: (dialogId: number) => void\n\n}\n\nexport const ProfileInfo = (props: profileInfoPropsType) => {\n    const [isEdit, setEdit] = useState(false)\n    const [errorMessage, setErrorMessage] = useState('')\n\n    let info: profileInfoType = props.profileInfo\n    let contacts = info && Object.entries(info?.contacts)\n\n    const contactsItems = contacts && contacts.map(c => {\n        return c[1] && <li key={c[0]} className={s.contactItem}><span>{\n                c[0][0].toUpperCase() + c[0].slice(1)\n            }</span>: {c[1]}</li>\n    })\n\n    const contactsItemsUpdate = contacts && contacts.map(c => {\n        return <li key={c[0]} className={s.contactItemForm}><span>{\n                c[0][0].toUpperCase() + c[0].slice(1)\n            }</span>: \n                <Field component={InputFormik} type=\"text\" placeholder={`Your ${c[0]}`}\n                    name={c[0]} id={c[0]} />\n            </li>\n    })\n\n    const savePhoto = (e: any) => {\n        if(e.target.files.length) {\n            props.savePhoto(e.target.files[0])\n        }\n    }\n\n    const onSendMessageClick = () => {\n        props.setOpenChat(true)\n        info && props.updateOrAddDialog(info.userId)\n        info && props.getDialogMessages(info.userId)\n    }\n\n    return (\n        \n        <div className={s.profileInfoContainer}>\n            {!props.userId ? <Preloader /> : \n            <div>\n                    {props.isAuth ? <div>\n                    <div className={s.ava}>\n                        <img src={info?.photos.large || ava} alt=\"My_ava\" />\n                        {props.isOwner && <div className={s.inputFile}>\n                            <input type=\"file\" id=\"input-file\"\n                            onChange={savePhoto} />\n                            <label htmlFor=\"input-file\" className={s.inputButton}>\n                                <span className={s.inputButtonIcon}>\n                                    <img src={downLoadIcon} alt=\"DL\" />\n                                </span>\n                                <span className={s.inputButtonText}>\n                                    {\"Выберите файл\"}\n                                </span>\n                            </label>\n                        </div>}\n                    </div>\n\n                    <ProfileStatus status={props.status} setStatus={props.setStatus} userId={props.userId} />\n                    \n                    {!isEdit ? \n                    <div className={s.description}>\n                        <div className={s.profileInfoItem}><span>id</span>: {info?.userId}</div>\n                        <div className={s.profileInfoItem}><span>User-name</span>: {info?.fullName}</div>\n                        <div className={s.profileInfoItem}><span>About me</span>: {info?.aboutMe}</div>\n                        <div className={s.profileInfoItem}><span>Look for a job</span>: {\n                            info?.lookingForAJob ? \"Yes\" : \"no\"\n                        }</div>\n                        {info?.lookingForAJob && \n                        <div className={s.profileInfoItem}><span>Look for a job (description)</span>: {\n                            info?.lookingForAJobDescription\n                        }</div>\n                        }\n                        <ul className={s.contactsListWrap}>\n                            <li className={s.contactsTitle}>Contacts:</li>\n                            <ul className={s.contactsList}>\n                                {contactsItems}\n                            </ul>\n                        </ul>\n                        {props.isOwner \n                            ? <Button click={() => setEdit(true)} buttonType=\"profileInfoButton\" value=\"Edit profile info\" />\n                            : <Button click={onSendMessageClick} buttonType=\"profileInfoButton\" value=\"Send message\" />\n                            }\n                    </div>\n                    :\n                    <Formik\n                        initialValues={{\n                            fullName: info?.fullName || \"\",\n                            aboutMe: info?.aboutMe || \"\",\n                            lookingForAJob: info?.lookingForAJob,\n                            lookingForAJobDescription: info?.lookingForAJobDescription || \"\",\n                            facebook: info?.contacts.facebook || \"\",\n                            website: info?.contacts.website || \"\",\n                            vk: info?.contacts.vk || \"\",\n                            twitter: info?.contacts.twitter || \"\",\n                            instagram: info?.contacts.instagram || \"\",\n                            youtube: info?.contacts.youtube || \"\",\n                            github: info?.contacts.github || \"\",\n                            mainLink: info?.contacts.mainLink || \"\"\n                        }}\n                        onSubmit={(val) => {\n                            props.updateProfileInfo(setEdit, setErrorMessage, props.userId, {\n                                userId: props.userId,\n                                fullName: val.fullName,\n                                aboutMe: val.aboutMe,\n                                lookingForAJob: val.lookingForAJob || false,\n                                lookingForAJobDescription: val.lookingForAJobDescription,\n                                contacts: {\n                                    facebook: val.facebook,\n                                    github: val.github,\n                                    instagram: val.instagram,\n                                    mainLink: val.mainLink,\n                                    twitter: val.twitter,\n                                    vk: val.vk,\n                                    website: val.website,\n                                    youtube: val.youtube\n                                }\n\n                            })\n                        }}\n                        >\n                        {({ errors, touched, validateField, validateForm }) => (\n                            \n                            <Form>\n                                <div className={s.description}>\n                                    <div className={s.profileInfoItemForm}><span>id</span>: {info?.userId}</div>\n                                    <div className={s.profileInfoItemForm}><span>User-name</span>: \n                                        <Field component={InputFormik} type=\"text\" placeholder=\"Your full name\"\n                                            name=\"fullName\" id=\"fullName\" />\n                                    </div>\n                                    <div className={s.profileInfoItemForm}><span>About me</span>: \n                                        <Field component={InputFormik} type=\"text\" placeholder=\"Tell about yoursesf\"\n                                            name=\"aboutMe\" id=\"aboutMe\" />\n                                    </div>\n                                    <div className={s.profileInfoItemForm}><span>Look for a job</span>: \n                                        <Field component={Checkbox} name=\"lookingForAJob\" id=\"lookingForAJob\" />\n                                    </div>\n                                    <div className={s.profileInfoItemForm}><span>Look for a job (description)</span>: \n                                        <Field component={TextareaFormik} type=\"text\" placeholder=\"Descript your job\"\n                                            name=\"lookingForAJobDescription\" id=\"userlookingForAJobDescription\" />\n                                    </div>\n                                    <ul className={s.contactsListWrap}>\n                                        <li className={s.contactsTitle}>Contacts:</li>\n                                        <ul className={s.contactsList}>\n                                            {contactsItemsUpdate}\n                                        </ul>\n                                    </ul>\n                                </div>\n                                <div className={s.editProfileErrorMessage}>{errorMessage}</div>\n                                <Button buttonType=\"profileInfoButton\" value=\"Submit\" />\n                            </Form>\n                        )}\n                        \n                    </Formik>\n                    }\n\n                </div> \n                : <div>YOU ARE NOT AUTHORIZED</div>}\n            </div>\n            \n            }\n            \n        </div>\n    )\n}","import React, { useEffect } from \"react\";\nimport { ProfileInfo, profileInfoTypeWithoutPhotos } from \"./ProfileInfo\";\nimport { connect } from \"react-redux\";\nimport { profileInfoType, stateType } from \"../../../../redux/store\";\nimport { getProfileData, getStatus, setStatus, savePhoto, updateProfileInfo } from \"../../../../redux/profile-reducer\";\nimport { withRouter } from \"react-router\";\nimport { setOpenChat } from \"../../../../redux/app-reducer\"\nimport { updateOrAddDialog } from \"../../../../redux/dialogs-reducer\"\nimport { getDialogMessages } from \"../../../../redux/dialogs-reducer\"\n\ntype propsType = {\n    status: string | null\n    profileInfo: profileInfoType\n    isAuth: boolean\n    userId: number | null\n    match: any\n    history: any\n\n    getStatus: (userId: number) => void\n    getProfileData: (userId: number) => void\n    setStatus: (status: string, userId: number) => void\n    savePhoto: (photo: File) => void\n    updateProfileInfo: (setEdit: any, setErrorMessage: any, userId: number | null, profileInfo: profileInfoTypeWithoutPhotos) => void\n    setOpenChat: (isOpen: boolean) => void\n    updateOrAddDialog: (userId: number) => void\n    getDialogMessages: (dialogId: number) => void\n}\n\n\n\nconst ProfileInfoWrapMiddle = (props: propsType) => {\n    \n    let userId = props.match.params.userId\n    if(!userId) {\n        userId = props.userId\n        if (!userId) {\n            props.history.push('/login')\n        }\n    }\n\n    useEffect(() => {\n        props.getStatus(userId)\n    }, [props.userId, userId])\n    useEffect(() => {\n        props.getProfileData(userId)\n    }, [props.userId, userId])\n    return (\n        <ProfileInfo status={props.status}\n                    profileInfo={props.profileInfo}\n                    isAuth={props.isAuth}\n                    userId={props.userId}\n                    setStatus={props.setStatus}\n                    isOwner={!props.match.params.userId}\n                    savePhoto={props.savePhoto}\n                    updateProfileInfo={props.updateProfileInfo}\n                    setOpenChat={props.setOpenChat}\n                    updateOrAddDialog={props.updateOrAddDialog}\n                    getDialogMessages={props.getDialogMessages} />\n    )\n}\n\nconst mapStateToProps = (state: stateType) => ({\n    status: state.profilePage.status,\n    profileInfo: state.profilePage.profileInfo,\n    isAuth: state.auth.isAuth,\n    userId: state.auth.id\n})\n\nexport const ProfileInfoWrap = withRouter(connect(mapStateToProps, {\n    getProfileData, getStatus, setStatus, savePhoto, updateProfileInfo,\n    setOpenChat, updateOrAddDialog, getDialogMessages\n})(ProfileInfoWrapMiddle))","import React from \"react\";\nimport s from \"./Profile.module.css\";\nimport { MyPostsWrap } from \"./MyPosts/MyPostsWrap\";\nimport { ProfileInfoWrap } from \"./ProfileInfo/ProfileInfoWrap\";\nimport { connect } from \"react-redux\";\nimport { stateType } from \"../../../redux/store\";\nimport { withAuthRedirect } from \"../../../HOC/WithAuthRedirect\";\n\ntype profilePropsType = {\n\n}\n\nconst Profile = React.memo((props: profilePropsType) => {\n\n    sessionStorage.path = 'profile'\n\n    return (\n        <div className={s.profileContainer}>\n            <div className={s.profilePage}>\n                <ProfileInfoWrap />\n                <MyPostsWrap />\n            </div>\n        </div>\n    )\n})\n\nconst mapStateToProps = (state: stateType) => ({\n    \n})\n\nexport default withAuthRedirect(connect(mapStateToProps, {})(Profile))","import React, { ChangeEvent } from \"react\";\nimport s from \"./Input.module.css\"\n\ntype propsType = {\n    value: number\n    onChange: (e: ChangeEvent<HTMLInputElement>) => void\n    placeholder: string\n    inputTypeStyle: string\n    type: string\n}\n\nexport const Input: React.FC<propsType> = (props: propsType) => {\n\n    return <div className={s.inputWrap}>\n                <input className={s.input + ' ' + s[props.inputTypeStyle]}\n                    value={props.value} onChange={props.onChange}\n                    placeholder={props.placeholder} type={props.type}\n                    />\n            </div>\n    \n}","import React, { ChangeEvent, useState } from \"react\"\nimport { Button } from \"../../../common/buttons/Button\"\nimport { Input } from \"../../../common/input/Input\"\nimport s from \"./SettingsUsers.module.css\"\n\ntype propsType = {\n    pageSize: number\n    setPageSize: (size: number) => void\n}\n\nexport const SettingsUsers = (props: propsType) => {\n    const [isEditState, setEditState] = useState(false)\n    const [pageSizeTemp, setPageSizeTemp] = useState(props.pageSize)\n\n    const usersAmount = localStorage.usersAmount\n\n    const submitChanges = () => {\n        props.setPageSize(pageSizeTemp)\n        setEditState(false)\n        localStorage.usersAmount = pageSizeTemp\n    }\n\n    const changeNumberOfUsersInputChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\n        setPageSizeTemp(+e.target.value)\n    }\n\n    return (\n        <div className={s.usersSetWrap}>\n            <h3 className={s.usersSetTitle}>Users-settings</h3>\n            <div className={s.usersSetContent}>\n                {!isEditState ? <div className={s.currentValueBlock}>\n                        Number users in one page: <span className={s.currentValue}>{usersAmount || props.pageSize}</span>\n                    </div>\n                :\n                    <div className={s.editSetBlock}>\n                        <span className={s.editSetText}>Enter number users in one page (from 1 to 100):</span>\n                        <Input onChange={changeNumberOfUsersInputChangeHandler}\n                            value={pageSizeTemp} placeholder=\"Enter number of users\"\n                            inputTypeStyle=\"usersSettings\" type=\"number\" />\n                    </div>}\n            </div>\n            <div className={s.usersSetButtons}>\n                {!isEditState ? \n                    <Button buttonType=\"settings\" click={() => setEditState(true)} value=\"Edit settings\" />\n                    : <Button buttonType=\"settings\" click={submitChanges} value=\"Submit\" />\n                }\n            </div>\n            \n        </div>\n    )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { stateType } from \"../../../redux/store\"\nimport { Settings } from \"./Settings\"\nimport { usersActions } from \"../../../redux/users-reducer\"\n\nconst setPageSize = usersActions.setPageSize\n\nconst mapStateToProps = (state: stateType) => ({\n    pageSize: state.usersPage.pageSize\n})\n\nexport const SettingsWrap = connect(mapStateToProps, {setPageSize})(Settings)","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Route } from \"react-router-dom\";\nimport { SettingsUsers } from \"./SettingsPagesItems/SettingsUsers\";\nimport s from \"./Settings.module.css\"\n\ntype settingsPropsType = {\n    pageSize: number\n    setPageSize: (size: number) => void\n}\n\nexport const Settings = (props: settingsPropsType) => {\n    return (\n        <div className={s.setWrap}>\n            <h2 className={s.setTitle}>Settings</h2>\n            <div className={s.contentWrap}>\n                <div className={s.setLinks}>\n                    <NavLink activeClassName={s.activeLink} className={s.setLink} to=\"/settings/users\">\n                        <div className={s.linkTextWrap}>\n                            Users-settings\n                        </div>\n                    </NavLink>\n                    <NavLink activeClassName={s.activeLink} className={s.setLink} to=\"/settings/user\">\n                        <div className={s.linkTextWrap}>\n                            Users-settings\n                        </div>\n                    </NavLink>\n                </div>\n                <div className={s.setPages}>\n                    <Route path=\"/settings/users\" render={() => <SettingsUsers\n                        pageSize={props.pageSize}\n                        setPageSize={props.setPageSize} />} />\n                </div>\n            </div>\n            \n        </div>\n        \n    )\n}","import React, { useState } from \"react\"\nimport s from \"./Paginator.module.css\"\n\ntype paginatorPropsType = {\n    usersCount: number | null\n    pageSize: number\n    term: string\n    isFriend: boolean\n    currentPage: number\n    currentPorsion: number\n\n    setCurrentPorsion: any\n    setCurrentPage: any\n    getUsers: (pageNumber: number, term: string, isFriend: boolean) => void\n}\n\nexport const Paginator: React.FC<paginatorPropsType> = React.memo((props: paginatorPropsType) => {\n\n    const pagesCount: number | null = props.usersCount && Math.ceil(props.usersCount / props.pageSize)\n\n    const porsionSize = 5;\n    const porsionsCount = pagesCount && Math.ceil(pagesCount / porsionSize)\n\n    let leftPorsionPageNumber = props.currentPorsion * porsionSize - porsionSize\n    let rightPorsionPageNumber = props.currentPorsion * porsionSize\n\n    let pagesNumbers = []\n    if (pagesCount) {\n        for (let i = 1; i <= pagesCount; i++) {\n            pagesNumbers.push(i)\n        }\n    }\n\n    const pages = pagesNumbers\n    .filter((p) => p > leftPorsionPageNumber && p <= rightPorsionPageNumber )\n    .map(p => {\n        return <span key={p} className={s.page + ' ' + (props.currentPage === p ? s.currentPage : '')}\n            onClick={() => {\n            props.getUsers(p, props.term, props.isFriend);\n            props.setCurrentPage(p);\n            }}>\n            {p}\n        </span>\n    })\n\n    return <div className={s.paginator}>\n        { props.currentPorsion > 1 && <span\n            className={s.arrows} \n            onClick={() => props.setCurrentPorsion((prev: number) => prev - 1)}>\n            {'\\u2B05'}\n        </span>}\n        <span className={s.pages}>{pages}</span>\n        { porsionsCount && props.currentPorsion < porsionsCount && <span\n            className={s.arrows} \n            onClick={() => props.setCurrentPorsion((prev: number) => prev + 1)}>\n            {'\\u27A1'}\n        </span>}\n    </div>\n})","import React from \"react\";\nimport s from \"./SearchInput.module.css\"\n\ntype propsType = {\n    value: string\n    placeholder: string\n    onChange: any\n    onKeyPress: any\n}\n\nexport const SearchInput = (props: propsType) => {\n    return (\n        <div className={s.searchUsers}>\n            <input value={props.value} \n                onChange={props.onChange}\n                placeholder={props.placeholder}\n                onKeyPress={props.onKeyPress} />\n            {/* @ts-ignore */}\n            <ion-icon name=\"search-outline\"></ion-icon>\n        </div>\n    )\n}","import React, { useEffect, useState } from \"react\";\nimport { usersType } from \"../../../redux/store\";\nimport s from \"./Users.module.css\";\nimport avaMale from \"../../../img/ava_male.jpeg\";\nimport { Preloader } from \"../../common/preloader/preloader\";\nimport { NavLink } from \"react-router-dom\";\nimport { Paginator } from \"../../common/paginator/Paginator\";\nimport { SearchInput } from \"../../common/searchInput/SearchInput\";\nimport { usersAPI } from \"../../../api/api\";\nimport { Button } from \"../../common/buttons/Button\";\n\nexport type usersPropsType = {\n    users: usersType\n    usersCount: number | null\n    pageSize: number\n    inProgress: boolean\n    followingInProgressUsersId: number[]\n    currentPage: number\n    term: string\n    isFriend: boolean\n\n    getUsers: (pageNumber: number, term: string, isFriend: boolean) => void\n    followPost: (id: number) => void\n    followDelete: (id: number) => void\n}\n\ntype userPropsType = {\n    id: number\n    key: number\n    photoUrl: string | null\n    name: string\n    status: string | null\n    followed: boolean\n    followingInProgressUsersId: number[]\n\n    followPost: (id: number) => void\n    followDelete: (id: number) => void\n}\n\nexport const Users = React.memo((props: usersPropsType) => {\n\n    const [term, setTerm] = useState<string>('')\n    const [isFriend, setIsFriend] = useState<boolean>(false)\n    const [currentPage, setCurrentPage] = useState<number>(1)\n    const [currentPorsion, setCurrentPorsion] = useState<number>(1)\n\n    useEffect(() => {\n        // parameters is gettinng from redux-state, users-reducer\n        props.getUsers(props.currentPage, props.term, props.isFriend)\n    }, [])\n\n    useEffect(() => {\n        usersAPI.getUsersMy()\n        .then(res => console.log(res))\n        \n    }, [])\n    \n    const usersItems = props.users?.map(u => {\n        return <User id={u.id} key={u.id} photoUrl={u.photos.small}\n            name={u.name}\n            status={u.status}\n            followingInProgressUsersId={props.followingInProgressUsersId}\n            followed={u.followed}\n            followPost={props.followPost}\n            followDelete={props.followDelete} />\n    })\n\n    const isFriendClick = () => {\n        if (isFriend) {\n            setIsFriend(false)\n            props.getUsers(props.currentPage, props.term, false)\n        } else { \n            setIsFriend(true)\n            props.getUsers(props.currentPage, props.term, true)\n        }\n    }\n    function changeTermInput(e: any) {\n        setTerm(e.target.value)\n    }\n\n    const onEnterKeyPress = (e: any) => {\n        if (e.charCode === 13) {\n            setTerm('')\n            props.getUsers(props.currentPage, term, props.isFriend);\n        }\n    }\n\n    return (\n        <>\n        {props.inProgress ? <Preloader /> : \n            <div className={s.usersWrap}>\n                <Paginator usersCount={props.usersCount} pageSize={props.pageSize}\n                    term={props.term} isFriend={props.isFriend} getUsers={props.getUsers}\n                    currentPage={currentPage} setCurrentPage={setCurrentPage}\n                    currentPorsion={currentPorsion} setCurrentPorsion={setCurrentPorsion}\n                />\n                <div className={s.filterUsersBlock}>\n\n                    <SearchInput placeholder=\"Search users\"\n                        value={term} onChange={changeTermInput}\n                        onKeyPress={onEnterKeyPress} />\n                    \n                    <Button buttonType=\"usersFriendsSearch\" click={isFriendClick} value={isFriend ? 'All Users' : 'Only friends'} />\n                </div>\n                {usersItems}\n            </div>\n        }\n        </>\n    )\n})\n\nexport const User = React.memo((props: userPropsType) => {\n\n    const followUnfollowClickHandler = () => {\n        if (props.followed === false) {\n            props.followPost(props.id)\n        } else if (props.followed === true) {\n            props.followDelete(props.id)\n        }   \n    }\n\n    return <div className={s.userWrap}>\n        \n        <div className={s.ava}>\n            <NavLink to={`/profile/${props.id}`}>\n                <img src={props.photoUrl ? props.photoUrl : avaMale} alt=\"UserAva\" />\n            </NavLink>\n        </div>\n        <div className={s.userName}>{props.name}</div>\n        <div className={s.status}>{props.status}</div>\n        <div className={s.followButton}>\n            <Button value={props.followed === true ? 'unfollow' : 'follow'}\n                click={followUnfollowClickHandler}\n                buttonType=\"followUnfollow\"\n                disabled={props.followingInProgressUsersId.some(item => item === props.id)} />\n        </div>\n        <div className={s.country}>Country: props.location.country</div>\n        <div className={s.city}>City: props.location.city</div>\n    </div>\n})","import { stateType } from \"../redux/store\"\nimport { createSelector} from \"reselect\"\n\nexport const getUsersSel = (state: stateType) => {\n    return state.usersPage.users\n}\n\n// @ts-ignore\nexport const getUsersRes = createSelector(getUsersSel, (users) => {\n    // @ts-ignore\n    return users && users.filter(u => true)\n})","import React from \"react\";\nimport { usersType } from \"../../../redux/store\";\nimport { connect } from \"react-redux\";\nimport { Users } from \"./Users\";\nimport { getUsers, followPost, followDelete } from \"../../../redux/users-reducer\";\nimport { getUsersRes } from \"../../../selectors/users-selectors\";\nimport { appStateType } from \"../../../redux/redux-store\";\n\ntype mapStatePropstype = {\n    users: usersType\n    usersCount: number | null\n    pageSize: number\n    currentPage: number\n    term: string\n    isFriend: boolean\n    inProgress: boolean\n    followingInProgressUsersId: number[]\n}\ntype mapDispatchPropsType = {\n    getUsers: (pageSize: number, pageNumber: number, term: string, isFriend: boolean) => void\n    followPost: (userId: number) => void\n    followDelete: (userId: number) => void\n}\ntype ownPropsType = {}\ntype propsType = mapStatePropstype & mapDispatchPropsType & ownPropsType\n\nconst  UsersWrapMiddle: React.FC<propsType> = React.memo((props: propsType) => {\n    const getUsers = (pageNumber: number, term: string, isFriend: boolean) => {\n        props.getUsers(localStorage.usersAmount || props.pageSize, pageNumber, term, isFriend)\n    }\n\n    return <Users users={props.users}\n                usersCount={props.usersCount}\n                pageSize={props.pageSize}\n                currentPage={props.currentPage}\n                term={props.term}\n                isFriend={props.isFriend}\n                inProgress={props.inProgress}\n                followingInProgressUsersId={props.followingInProgressUsersId}\n\n                getUsers={getUsers}\n                followPost={props.followPost}\n                followDelete={props.followDelete}\n                 />\n})\n\nconst mapStateToProps = (state: appStateType) => {\n    return {\n       users: getUsersRes(state),\n       usersCount: state.usersPage.usersCount,\n       pageSize: state.usersPage.pageSize,\n       currentPage: state.usersPage.currentPage,\n       term: state.usersPage.term,\n       isFriend: state.usersPage.isFriend,\n       inProgress: state.usersPage.inProgress,\n       followingInProgressUsersId: state.usersPage.followingInProgressUsersId\n    }\n}\n\nexport const UsersWrap = connect<mapStatePropstype, mapDispatchPropsType, ownPropsType, appStateType>(mapStateToProps, { getUsers,\n    followPost, followDelete\n    //@ts-ignore\n})(UsersWrapMiddle)\n\n","export default __webpack_public_path__ + \"static/media/1.11426f07.png\";","export default __webpack_public_path__ + \"static/media/2.4a170145.png\";","export default __webpack_public_path__ + \"static/media/3.b2dc0775.png\";","export default __webpack_public_path__ + \"static/media/4.60453677.png\";","import React from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n// Import Swiper styles\nimport 'swiper/swiper-bundle.min.css'\nimport 'swiper/swiper.min.css'\nimport './Slide.css'\nimport bg1 from '../../../img/images-slider/1.png'\nimport bg2 from '../../../img/images-slider/2.png'\nimport bg3 from '../../../img/images-slider/3.png'\nimport bg4 from '../../../img/images-slider/4.png'\n\nexport const Slide = () => {\n    return (\n    //     <div className={s.slideWrap}>\n\n    // <Swiper\n    //   spaceBetween={50}\n    //   slidesPerView={1}\n    //   onSlideChange={() => console.log('slide change')}\n    //   onSwiper={(swiper) => console.log(swiper)}\n    // >\n    //   <SwiperSlide>Slide 1</SwiperSlide>\n    //   <SwiperSlide>Slide 2</SwiperSlide>\n    //   <SwiperSlide>Slide 3</SwiperSlide>\n    //   <SwiperSlide>Slide 4</SwiperSlide>\n     \n    // </Swiper>\n    //     </div>\n        <section className=\"showcase\">\n\t\t<h2 className=\"showcase__header\">\n\t\t\tHoodie <span>Mantle</span>\n\t\t</h2>\n\t\t<div className=\"showcase__content-wrapper\">\n\t\t\t<div className=\"showcase__content\">\n\t\t\t\t<Swiper className=\"showcase-carousel\"\n                    loop = {true}\n                    slidesPerView = {3}\n                    speed = {1800}\n                    centeredSlides = {true}\n                    // navigation\n                    navigation = {{\n                        prevEl: '.showcase-navigation__prev',\n                    \tnextEl: '.showcase-navigation__next'\n                    }}\n                >\n\t\t\t\t\t<div className=\"swiper-wrapper\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<SwiperSlide className=\"swiper-slide showcase-carousel__item\">\n\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-wrapper\">\n\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image\" style={{backgroundImage: `url(${bg1})`}}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-right\">\n\t\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image\" style={{backgroundImage: `url(${bg1})`}}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Front</p>\n\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t\t<SwiperSlide className=\"swiper-slide showcase-carousel__item\">\n\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-wrapper\">\n\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image\" style={{backgroundImage: `url(${bg2})`}}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-right\">\n\t\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image\" style={{backgroundImage: `url(${bg2})`}}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Front two</p>\n\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t\t<SwiperSlide className=\"swiper-slide showcase-carousel__item\">\n\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-wrapper\">\n\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image\" style={{backgroundImage: `url(${bg3})`}}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-right\">\n\t\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image\" style={{backgroundImage: `url(${bg3})`}}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Side</p>\n\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t\t<SwiperSlide className=\"swiper-slide showcase-carousel__item\">\n\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-wrapper\">\n\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-left\">\n\t\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image\" style={{backgroundImage: `url(${bg4})`}}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image-right\">\n\t\t\t\t\t\t\t\t\t<div className=\"showcase-carousel__image\" style={{backgroundImage: `url(${bg4})`}}>\n\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>Back</p>\n\t\t\t\t\t\t</SwiperSlide>\n\t\t\t\t\t</div>\n\t\t\t\t</Swiper>\n\t\t\t\t\n\n\t\t\t</div>\n\n\t\t\t<div className=\"showcase-navigation\">\n\t\t\t\t<div className=\"showcase-navigation__prev\">\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"showcase-navigation__next\">\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n        {/* @ts-ignore */}\n\t\t<video autoplay loop muted src=\"./videos/smoke-background-optimized.mp4\" className=\"showcase__video\"></video>\n\n\t</section>\n    )\n}","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport s from \"./Main.module.css\";\nimport ChatWrap from \"./Chat/ChatWrap\";\nimport Profile from \"./Profile/Profile\";\nimport { SettingsWrap } from \"./SettingsPage/SettingsWrap\";\nimport { UsersWrap } from \"./Users/UsersWrap\";\nimport { Slide } from \"./Slide/Slide\";\n\nexport const Main = React.memo(() => {\n    return <div className={s.mainContainer}>\n        <Route path=\"/profile/:userId?\" render={() => <Profile  />} />\n        <Route path=\"/dialogs\" render={() => <ChatWrap />} />\n        <Route path=\"/users\" render={() => <UsersWrap />} />\n        <Route path=\"/settings\" render={() => <SettingsWrap />} />\n        <Route path=\"/slide\" render={() => <Slide />} />\n    </div>\n})","import React  from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./Nav.module.css\";\n\nexport const Nav = () => {\n    return <nav className={s.navContainer}>\n        <ul className={s.navList}>\n            <NavLink activeClassName={s.active} to=\"/profile\"><li>Profile</li></NavLink>\n            <NavLink activeClassName={s.active} to=\"/dialogs\"><li>Messages</li></NavLink>\n            <NavLink activeClassName={s.active} to=\"/users\"><li>Users</li></NavLink>\n            <NavLink activeClassName={s.active} to=\"/news\"><li>News</li></NavLink>\n            <NavLink activeClassName={s.active} to=\"/music\"><li>Music</li></NavLink>\n            <NavLink activeClassName={s.active} to=\"settings\"><li>Settings</li></NavLink>\n            <NavLink activeClassName={s.active} to=\"slide\"><li>Slide</li></NavLink>\n        </ul>\n    </nav>\n}","import React  from \"react\";\nimport s from \"./Footer.module.css\";\n\nexport const Footer = () => {\n    return <div className={s.footerContainer}>Footer</div>\n}","import React from \"react\";\n// import {ajax} from \"rxjs/ajax\";\n// import {Observable} from 'rxjs';\nimport s from './RxjsLearn.module.css';\n\nexport const RxjsLearn = () => {\n\n    //cold observable\n    // const ajax$ = ajax<any>('https://random-data-api.com/api/name/random_name');\n    \n    // ajax$.subscribe(data => {\n    //     console.log('Sub1', data.response.first_name);\n    // });\n    // ajax$.subscribe(data => {\n    //     console.log('Sub2', data.response.first_name);\n    // });\n    // ajax$.subscribe(data => {\n    //     console.log('Sub3', data.response.first_name);\n    // });\n\n    \n\n    //hot observable\n    // useEffect(() => {\n    //     const helloButton = document.getElementById('hello');\n\n    //     const helloClick$ = new Observable<MouseEvent>(sub => {\n    //         helloButton?.addEventListener('click', (event) => {\n    //             sub.next(event);\n    //         });\n    //     })\n    \n    //     helloClick$.subscribe(e => console.log('Sub1 ', e.x, e.y));\n\n    //     setTimeout (() => {\n    //         console.log('Hello');\n    //         helloClick$.subscribe(e => console.log('Sub2 ', e.x, e.y));\n    //     }, 5000)\n        \n    // }, [])\n\n    \n\n\n\n\n\n    return <div>\n        <button className={s.hello} id=\"hello\">Hello!</button>\n    </div>\n}","\n\nexport function validatioInputs(value: string) {\n    \n    let error;\n    if (!value) {\n        error = 'Field is required'\n    } else if (value.length < 4) {\n        error = 'Min length is 4 symbols'\n    } else if (value.length > 40) {\n        error = 'Max length is 40 symbols'\n    }\n    return error\n}","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { stateType } from \"../../redux/store\"\nimport s from \"./Login.module.css\"\nimport {login, logout} from \"../../redux/auth-reducer\"\nimport {Formik, Form, Field} from \"formik\"\nimport { validatioInputs } from \"../../utils/validators/validators\"\nimport { InputFormik } from \"../common/inputFormik/InputFormik\"\nimport { Button } from \"../common/buttons/Button\"\nimport { Checkbox } from \"../common/checkbox/Checkbox\"\nimport { Preloader } from \"../common/preloader/preloader\"\nimport { Redirect } from \"react-router-dom\"\n\ntype loginPropsType = {\n    isAuth: boolean\n    errorMessage: string\n    captchaUrl: string | null\n    loginSuccess: boolean\n\n    login: (email: string, password: string, rememberMe: boolean, captcha: string | null) => void\n    logout: () => void\n}\n\nconst Login = (props: loginPropsType) => {\n    \n    return <div className={s.loginWrap}>\n        {!props.isAuth ? \n        <Formik\n            initialValues={{\n                email: '',\n                password: '',\n                rememberMe: false,\n                captcha: null\n            }}\n            onSubmit={(val) => {\n                props.login(val.email, val.password, val.rememberMe, val.captcha)\n            }}\n            >\n            \n            {({ errors, touched, validateField, validateForm }) => (\n                \n                <Form>\n                    <div className={s.inputItem}>\n                        <label className={s.loginLabel} htmlFor=\"email\">\n                            <span className={s.fieldDescriotion}>E-mail:</span>\n                            <Field\n                            type=\"email\" id=\"email\" component={InputFormik}\n                            name=\"email\" placeholder=\"Email\" validate={validatioInputs} />\n                        </label>\n                    </div>\n                    <div className={s.inputItem}>\n                        <label className={s.loginLabel} htmlFor=\"password\">\n                            <span className={s.fieldDescriotion}>Password:</span>\n                            <Field\n                            type=\"password\" id=\"password\" component={InputFormik}\n                            name=\"password\" placeholder=\"Password\" validate={validatioInputs} />\n                        </label>\n                    </div>\n                    <div className={s.inputItem}>\n                        <span className={s.fieldDescriotion}>Remember me:</span>\n                            <Field type=\"checkbox\" id=\"rememberMe\" name=\"rememberMe\" \n                                component={Checkbox} />\n                        \n                    </div>\n                    {props.captchaUrl && \n                        <div className={s.captchaBlock}>\n                            <img src={props.captchaUrl} alt=\"captcha\" />\n                            <label className={s.loginLabel} htmlFor=\"email\">\n                                <Field\n                                type=\"text\" id=\"captcha\" component={InputFormik}\n                                name=\"captcha\" placeholder=\"Enter symbols from image\" />\n                            </label>\n                        </div>\n                    }\n                    <div className={s.commonErrorMessage}>{props.errorMessage}</div>\n                    \n                    <Button value=\"submit\" buttonType=\"login\" />\n                    {props.loginSuccess && <Preloader />}\n                </Form>\n            )}\n        </Formik>\n        \n        : <Redirect to={sessionStorage.path} />}\n    </div>\n}\n\nconst mapStateToProps = (state: stateType) => ({\n    isAuth: state.auth.isAuth,\n    errorMessage: state.auth.errorMessage,\n    captchaUrl: state.auth.captchaUrl,\n    loginSuccess: state.auth.loginSuccess\n})\n\nexport default connect(mapStateToProps, {login, logout})(Login)","import React, { useEffect, useState } from \"react\"\nimport { connect } from \"react-redux\"\nimport { getFriends } from \"../../../redux/aside-reducer\"\nimport { stateType, usersType } from \"../../../redux/store\"\nimport userPhoto from \"../../../img/ava_male.jpeg\"\nimport s from \"./Friends.module.css\"\nimport { NavLink } from \"react-router-dom\"\nimport { User } from \"../../Main/Users/Users\"\nimport { followPost, followDelete } from \"../../../redux/users-reducer\"\n\ntype propsType = {\n    friends: usersType\n    friendsCount: number\n    followingInProgressUsersId: number[]\n    ownerId: number | null\n\n    getFriends: () => void\n    followPost: (id: number) => void\n    followDelete: (id: number) => void\n}\n\nconst Friends = React.memo((props: propsType) => {\n\n    const [isFriendsBlock, setFriendsBlock] = useState(false)\n\n    useEffect(() => {\n        props.getFriends()\n    }, [!props.friends, props.ownerId])\n\n    const shuffle = (arr: usersType) => {\n        // @ts-ignore\n        return arr.sort(() => Math.round(Math.random() * 100) - 50);\n    }\n\n    \n    let shuffledFriends = props.friends && shuffle(props.friends)\n\n    const friendsDemo = shuffledFriends?.map(f => {\n        let shortName = f.name.slice(0, 7)\n        return <div key={f.id} className={s.demoItem}>\n            <NavLink to={`/profile/${f.id}`} exact className={s.navLinkFriend}>\n                <div className={s.demoImg}>\n                    <img src={f.photos.small || userPhoto} alt=\"Friend\" />\n                </div>\n                <div className={s.demoName}>{shortName}...</div>\n            </NavLink>\n        </div>\n    }).slice(0, 6)\n\n    const allFriends = props.friends?.map(f => {\n        return <User id={f.id} key={f.id}\n            photoUrl={f.photos.small}\n            name={f.name} status={f.status}\n            followingInProgressUsersId={props.followingInProgressUsersId}\n            followed={f.followed}\n            followPost={props.followPost}\n            followDelete={props.followDelete} />\n    })\n\n\n    return (\n        <div className={s.friendsBlock}>\n            <div className={s.navFriends}>\n                <span className={s.allFriendsLink}\n                    onClick={() => setFriendsBlock(true)}>\n                    All friends\n                </span>\n                <span>{props.friendsCount}</span>\n            </div>\n            <div className={s.demoBlock}>\n                {friendsDemo}\n            </div>\n            <div className={s.allFriends + \" \" + (isFriendsBlock && s.friendsBlockActive)}>\n                <div className={s.closeFriendsBlock} onClick={() => setFriendsBlock(false)}></div>\n                <div className={s.allFriendsBlock}>\n                    {allFriends}\n                </div>\n            </div>\n        </div>\n    )\n})\n\nconst mapStateToProps = (state: stateType) => ({\n    friends: state.aside.friends,\n    friendsCount: state.aside.totalFriendsCount,\n    followingInProgressUsersId: state.usersPage.followingInProgressUsersId,\n    ownerId: state.auth.id\n})\n\nexport default connect(mapStateToProps, {\n    getFriends, followPost, followDelete\n})(Friends)","import React from \"react\"\nimport s from \"./Error.module.css\"\n\ntype propsType = {\n    errorText: string\n\n    openedErrorWindow: (close: boolean) => void\n}\n\nexport const CommonError = (props: propsType) => {\n    return <div className={s.errorText}>\n        {props.errorText}\n        <div onClick={() => props.openedErrorWindow(false)} className={s.closeErrorWindow}></div>\n    </div>\n}","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Header from './componets/Header/Header';\nimport { Main } from './componets/Main/Main';\nimport { Nav } from './componets/Aside/Nav/Nav';\nimport { Footer } from './componets/Footer/Footer';\nimport { RxjsLearn } from './componets/rxjs-learn/RxjsLearn';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { connect, useDispatch } from 'react-redux';\nimport { stateType } from './redux/store';\nimport { getAuthData, setLoginSuccess } from './redux/auth-reducer';\nimport { initialize, setOpenChat, setRejectedApp, setErrorText } from './redux/app-reducer';\nimport Login from './componets/Login/Login';\nimport { Preloader } from './componets/common/preloader/preloader';\nimport Friends from './componets/Aside/Friends/Friends';\nimport ChatWrap from './componets/Main/Chat/ChatWrap';\nimport { CommonError } from './componets/common/error/Error';\nimport { setPageSize } from './redux/users-reducer'\n\ntype propsType = {\n  userId: number | null\n  email: string | null\n  login: string | null\n  isAuth: boolean\n  initialized: boolean\n  isOpenedChat: boolean\n  rejectedApp: boolean\n  errorText: string\n\n  setLoginSuccess: (success: boolean) => void\n  getAuthData: () => void\n  initialize: () => void\n  setOpenChat: (isOpen: boolean) => void\n  setRejectedApp: (rejected: boolean) => void\n  setErrorText: (text: string) => void\n  setPageSize: (pageSize: number) => void\n}\n\nconst App = React.memo((props: propsType) => {\n\n  console.log(localStorage.usersAmount)\n\n  const [isCollapsedChat, setCollapseChat] = useState(false)\n\n  const catchAllUnhandledErrors = (promiseRejectionEvent: PromiseRejectionEvent) => {\n    props.setErrorText(promiseRejectionEvent.reason.message)\n    props.setRejectedApp(true)\n  }\n\n  useEffect(() => {\n    props.initialize()\n  }, [])\n\n  useEffect(() => {\n    props.setPageSize(localStorage.usersAmount)\n  }, [props.isAuth])\n\n  useEffect(() => {\n    window.addEventListener(\"unhandledrejection\", catchAllUnhandledErrors)\n    if (!sessionStorage.path) sessionStorage.path = 'profile'\n    return() => {\n      window.removeEventListener(\"unhandledrejection\", catchAllUnhandledErrors)\n    }\n  }, [])\n\n  // if (!props.initialized) return <Preloader />\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n      <h1 className=\"rxjs-title\">RxJS</h1>\n        <div className=\"content-wrapper\">\n          <header className=\"header\">\n            <Header isAuth={props.isAuth} login={props.login} />\n          </header>\n          <main className=\"main\">\n            <Main />\n            <Route path=\"/login\" render={() => <Login />} />\n            {props.isOpenedChat &&\n            <div className={`chatWrap + \" \" + ${isCollapsedChat && \"isCollapsedChat\"}`}>\n              <div className=\"chatOptions\">\n                {isCollapsedChat \n                ? <div className=\"chatOptionsItems chatExpandButton\"\n                  onClick={() => setCollapseChat(false)}>\n                </div>\n                : <div className=\"chatOptionsItems chaCollapseButton\"\n                  onClick={() => setCollapseChat(true)}>\n                </div>\n                }\n                <div className=\"chatOptionsItems chatCloseButton\"\n                  onClick={() => props.setOpenChat(false)}>\n                </div>\n              </div>\n              <ChatWrap />\n            </div>\n            }\n          </main>\n          <aside className=\"aside\">\n            <Nav />\n            <Friends />\n          </aside>\n          <footer className=\"footer\">\n            <Footer />\n          </footer>\n          <Route path=\"/rx\" component={RxjsLearn} />\n        </div>\n      </div>\n      {props.rejectedApp && <div className=\"errorWindow\">\n        <CommonError errorText={props.errorText} \n          openedErrorWindow={props.setRejectedApp}/>\n      </div>}\n    </BrowserRouter>\n  );\n})\n\nconst mapStateToProps = (state: stateType) => ({\n  userId: state.auth.id,\n  login: state.auth.login,\n  email: state.auth.email,\n  isAuth: state.auth.isAuth,\n  initialized: state.app.initialized,\n  isOpenedChat: state.app.isOpendChat,\n  rejectedApp: state.app.rejectedApp,\n  errorText: state.app.errorText\n})\n\nexport default connect(mapStateToProps, {\n  getAuthData, initialize, setOpenChat, setLoginSuccess, setRejectedApp, setErrorText, setPageSize\n})(App);\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/redux-store';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\n// import { store } from './redux/store';\n\n  ReactDOM.render(\n    <React.StrictMode>\n      {/* @ts-ignore */}\n      <Provider store={store}>\n      <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}