(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=(n(50),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,112)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),r(e),o(e)}))}),o=n(33),i=n(2),c=n(4),l="Viktor-gif/auth/SET_AUTH_DATA",u="Viktor-gif/auth/SET_ERROR_MESSAGE",d="Viktor-gif/auth/SET_CAPTCHA_URL",j={id:null,email:null,login:null,isAuth:!1,captchaUrl:null,errorMessage:""},f=function(e,t){return{type:l,data:e,isAuth:t}},g=function(e){return{type:u,message:e}},p=function(e){return{type:d,captchaUrl:e}},b=function(){return function(e){return c.a.getAuthData().then((function(t){t.data.resultCode===c.d.Success&&e(f(t.data.data,!0))}))}},h=function(){return function(e){c.a.logout().then((function(t){0===t.data.resultCode&&(e(f({id:null,email:null,login:null},!1)),e(p(null)))}))}},O=function(){return function(e){c.a.getCaptchaUrl().then((function(t){console.log(t.data.url),e(p(t.data.url))}))}},m=n(20),x=n(19),v="ADD_POST",A="Viktor-gif/profile/UPDATE_POST_TEXT",I="Viktor-gif/profile/SET_STATUS_TEXT",S="Viktor-gif/profile/SET_PROFILE_INFO",_="UPDATE_PHOTO",k={posts:[{id:1,postText:"Hello! how are you?",likesCount:48,avaUrl:"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960"},{id:2,postText:"This is my post.",likesCount:23,avaUrl:"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960"},{id:3,postText:"Never underastimate me!",likesCount:8,avaUrl:"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960"},{id:4,postText:"Bla-bla",likesCount:129,avaUrl:"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960"}],postText:"",status:null,profileInfo:null},U=function(){return{type:v}},C=function(e){return{type:A,text:e}},P=function(e){return function(t){c.c.getProfileData(e).then((function(e){var n;t((n=e.data,{type:S,info:n}))}))}},w=function(e){return function(t){c.c.getStatus(e).then((function(e){var n;t((n=e.data,{type:I,status:n}))}))}},N="Viktor-gif/users/FOLLOW_UNFOLLOW",y="Viktor-gif/users/SET_USERS",F="Viktor-gif/users/SET_USERS_COUNT",E="Viktor-gif/users/SET_PROGRESS",M="Viktor-gif/users/SET_FOLLOWING_PROGRESS",D="Viktor-gif/users/SET_PAGE_SIZE",B="Viktor-gif/users/SET_CURRENT_PAGE",K="Viktor-gif/users/SET_TERM",T="Viktor-gif/users/SET_IS_FRIEND",L={users:null,usersCount:null,pageSize:10,currentPage:1,term:"",isFriend:!1,inProgress:!1,followingInProgress:!1,followingInProgressUsersId:[]},R=function(e){return{type:N,userId:e}},V=function(e){return{type:y,users:e}},J=function(e){return{type:F,usersCount:e}},z=function(e){return{type:E,isProgress:e}},H=function(e,t){return{type:M,userId:e,isProgress:t}},W=function(e){return{type:D,size:e}},q=function(e){return{type:B,page:e}},Q=function(e){return{type:K,term:e}},G=function(e){return{type:T,isFriend:e}},Z=function(e){return function(t){t(H(e,!0)),c.f.followPost(e).then((function(n){0===n.data.resultCode&&(t(R(e)),t(H(e,!1)))}))}},Y=function(e){return function(t){t(H(e,!0)),c.f.followDelete(e).then((function(n){0===n.data.resultCode&&(t(R(e)),t(H(e,!1)))}))}},X=n(62),$="Viktor-gif/app/INITIALIZE_SUCCESS",ee="Viktor-gif/app/SET_OPEN_CHAT",te={initialized:!1,isOpendChat:!1},ne=function(e){return{type:ee,isOpened:e}},se="Viktor-gif/aside/SET_FRIENDS",ae="Viktor-gif/aside/SET_FRIENDS_COUNT",re={friends:null,totalFriendsCount:0},oe=n(49),ie=Object(o.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,n=e.posts;switch(t.type){case v:var s={id:n[n.length-1].id+1,postText:e.postText,likesCount:Math.ceil(100*Math.random()),avaUrl:"https://occ-0-2433-448.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABRkq_94V9dYhgOknDbPT9UlnSpLe_wu4KFFNzSeJYRkXPJRFuhZccaJHNhMoAgXwVecjxudZztCYhNuL7nM3Id3VuDny.jpg?r=960"};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(x.a)(e.posts),[s]),postText:""});case A:return Object(i.a)(Object(i.a)({},e),{},{postText:t.text});case I:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case S:return Object(i.a)(Object(i.a)({},e),{},{profileInfo:t.info});case _:return Object(i.a)(Object(i.a)({},e),{},{profileInfo:Object(i.a)(Object(i.a)({},e.profileInfo),{},{photos:t.photos})});default:return e}},dialogsPage:m.c,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type,e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case N:return Object(i.a)(Object(i.a)({},e),{},{users:e.users?e.users.map((function(e){return e.id===t.userId?!1===e.followed?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e})):null});case F:return Object(i.a)(Object(i.a)({},e),{},{usersCount:t.usersCount});case E:return Object(i.a)(Object(i.a)({},e),{},{inProgress:t.isProgress});case M:return Object(i.a)(Object(i.a)({},e),{},{followingInProgressUsersId:t.isProgress?[].concat(Object(x.a)(e.followingInProgressUsersId),[t.userId]):e.followingInProgressUsersId.filter((function(e){return e!==t.userId})),followingInProgress:t.isProgress});case D:return Object(i.a)(Object(i.a)({},e),{},{pageSize:t.size});case B:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.page});case K:return Object(i.a)(Object(i.a)({},e),{},{term:t.term});case T:return Object(i.a)(Object(i.a)({},e),{},{isFriend:t.isFriend});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)(Object(i.a)({},e),t.data),{},{isAuth:t.isAuth});case u:return Object(i.a)(Object(i.a)({},e),{},{errorMessage:t.message});case d:return Object(i.a)(Object(i.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(i.a)(Object(i.a)({},e),{},{initialized:!0});case ee:return Object(i.a)(Object(i.a)({},e),{},{isOpendChat:t.isOpened});default:return e}},aside:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(i.a)(Object(i.a)({},e),{},{friends:t.friends});case ae:return Object(i.a)(Object(i.a)({},e),{},{totalFriendsCount:t.count});default:return e}},chat:oe.a}),ce=Object(o.d)(ie,Object(o.a)(X.a));window.store=ce;var le=ce,ue=n(37),de=n.n(ue),je=n(7),fe=(n(95),n(6)),ge=n(9),pe=n.p+"static/media/logo.092a2033.png",be=n(16),he=n.n(be),Oe=n(0),me=Object(fe.b)((function(e){var t;return{userAva:null===(t=e.profilePage.profileInfo)||void 0===t?void 0:t.photos.small,userId:e.auth.id}}),{logout:h,getProfileData:P})((function(e){var t=Object(s.useState)(!1),n=Object(je.a)(t,2),a=n[0],r=n[1];Object(s.useEffect)((function(){e.userId&&e.getProfileData(e.userId)}),[]),Object(s.useEffect)((function(){var e=document.querySelector("#headerMenu");document.addEventListener("click",(function(t){t.target!==e&&t.target!==(null===e||void 0===e?void 0:e.children[0])&&r(!1)}))}),[]);return Object(Oe.jsxs)("div",{className:he.a.header,children:[Object(Oe.jsx)("img",{className:he.a.logoPic,src:pe,alt:"logo"}),Object(Oe.jsx)("div",{children:e.isAuth?Object(Oe.jsxs)("div",{className:he.a.headerNavWrap,children:[Object(Oe.jsxs)("ul",{id:"dropDownMenu",className:he.a.dropdownMenu+" "+(a&&he.a.dropdownMenuActive),children:[Object(Oe.jsx)("li",{className:he.a.dropDownMenuItem,children:"Settings"}),Object(Oe.jsx)("li",{onClick:e.logout,className:he.a.dropDownMenuItem,children:"Log out"})]}),Object(Oe.jsx)("div",{id:"headerMenu",onClick:function(){a?r(!1):a||r(!0)},className:he.a.headernavItem+" "+he.a.headerNavItemAuth,children:Object(Oe.jsx)("img",{src:e.userAva?e.userAva:"",alt:"userAva"})})]}):Object(Oe.jsxs)("div",{className:he.a.headerNavWrap,children:[Object(Oe.jsx)(ge.b,{className:he.a.headernavItem,to:"/login",children:Object(Oe.jsx)("button",{children:"Sign in"})}),Object(Oe.jsx)("a",{className:he.a.headernavItem,href:"/login",children:Object(Oe.jsx)("button",{children:"Sign up"})})]})})]})})),xe=n(5),ve=n(65),Ae=n.n(ve),Ie=function(e){return Object(fe.b)((function(e){return{isAuth:e.auth.isAuth}}),{})((function(t){return t.isAuth?Object(Oe.jsx)(e,Object(i.a)({},t)):Object(Oe.jsx)(xe.a,{to:"login"})}))},Se=a.a.lazy((function(){return n.e(3).then(n.bind(null,113))})),_e=Object(o.c)(Ie,Object(fe.b)((function(e){var t;return{dialogs:e.dialogsPage.dialogs,ownerId:null===(t=e.profilePage.profileInfo)||void 0===t?void 0:t.userId,chatMessages:e.chat.messages,chatStatus:e.chat.status,dialogMessages:e.dialogsPage.dialogMessages,currentDialogId:e.dialogsPage.currentDialogId}}),(function(e){return{getDialogs:function(){return e(Object(m.e)())},getDialogMessages:function(t){return e(Object(m.d)(t))},deleteMessage:function(t,n){return e(Object(m.a)(t,n))}}})))((function(e){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)(s.Suspense,{fallback:Object(Oe.jsx)("div",{children:"Loading..."}),children:Object(Oe.jsx)(Se,{dialogs:e.dialogs,ownerId:e.ownerId,getDialogs:e.getDialogs,getDialogMessages:e.getDialogMessages,chatMessages:e.chatMessages,chatStatus:e.chatStatus,dialogMessages:e.dialogMessages,currentDialogId:e.currentDialogId,deleteMessage:e.deleteMessage})})})})),ke=n(47),Ue=n.n(ke),Ce=n(29),Pe=n.n(Ce),we=n(27),Ne=n(11),ye=a.a.memo((function(e){console.log("renderM my posts");var t=e.posts.map((function(e){return Object(Oe.jsx)(Fe,{id:e.id,postText:e.postText,likesCount:e.likesCount},e.id)})),n=a.a.createRef();return Object(Oe.jsxs)("div",{className:Pe.a.postsWrap,children:[Object(Oe.jsx)("h3",{className:Pe.a.postsTitle,children:"My posts"}),Object(Oe.jsx)("div",{className:Pe.a.postsFormInput,children:Object(Oe.jsx)("textarea",{value:e.postText,onChange:function(){n.current&&e.updatePostText(n.current.value)},ref:n,name:"addPost",id:"addPost"})}),Object(Oe.jsx)(Ne.a,{click:function(){e.addPost()},buttonType:"addPost",value:"Submit"}),t]})})),Fe=a.a.memo((function(e){return Object(Oe.jsxs)("div",{className:Pe.a.post,children:[Object(Oe.jsx)("div",{className:Pe.a.postAva,children:Object(Oe.jsx)("img",{src:we.a,alt:"My_ava"})}),Object(Oe.jsx)("div",{className:Pe.a.postText,children:e.postText}),Object(Oe.jsxs)("div",{className:Pe.a.likes,children:[Object(Oe.jsx)("span",{children:"Likes"}),": ",e.likesCount]})]})})),Ee=Object(fe.b)((function(e){return{posts:e.profilePage.posts,postText:e.profilePage.postText}}),(function(e){return{addPost:function(){return e(U())},updatePostText:function(t){return e(C(t))}}}))(ye),Me=n(3),De=n.n(Me),Be=(n(105),function(){return Object(Oe.jsx)("div",{className:"loadingio-spinner-spinner-n5382r8q7mr",children:Object(Oe.jsxs)("div",{className:"ldio-f6ewwic9h5v",children:[Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{}),Object(Oe.jsx)("div",{})]})})}),Ke=a.a.memo((function(e){console.log(e.status);var t=Object(s.useState)(!1),n=Object(je.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)(e.status||""),i=Object(je.a)(o,2),c=i[0],l=i[1];Object(s.useEffect)((function(){e.status&&l(e.status)}),[e.status]);var u=function(){e.setStatus(c,e.userId),r(!1)};return Object(Oe.jsx)("div",{className:De.a.profileStatus,children:a?Object(Oe.jsx)("input",{type:"text",value:c,autoFocus:!0,onKeyPress:function(e){13===e.charCode&&u()},onChange:function(e){l(e.target.value)},onBlur:u}):Object(Oe.jsx)("span",{onDoubleClick:function(){return r(!0)},children:e.status?e.status:"-------------------"})})})),Te=n.p+"static/media/download_button.e5a2f77d.png",Le=n(10),Re=function(e){var t=Object(s.useState)(!1),n=Object(je.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)(""),i=Object(je.a)(o,2),c=i[0],l=i[1],u=e.profileInfo,d=u&&Object.entries(null===u||void 0===u?void 0:u.contacts),j=d&&d.map((function(e){return Object(Oe.jsxs)("li",{className:De.a.contactItem,children:[Object(Oe.jsx)("span",{children:e[0][0].toUpperCase()+e[0].slice(1)}),": ",e[1]]},e[0])})),f=d&&d.map((function(e){return Object(Oe.jsxs)("li",{className:De.a.contactItem,children:[Object(Oe.jsx)("span",{children:e[0][0].toUpperCase()+e[0].slice(1)}),":",Object(Oe.jsx)(Le.a,{component:"input",type:"text",placeholder:"Your ".concat(e[0]),name:e[0],id:e[0]})]},e[0])}));return Object(Oe.jsx)("div",{className:De.a.profileInfoContainer,children:e.userId?Object(Oe.jsx)("div",{children:e.isAuth?Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{className:De.a.ava,children:[Object(Oe.jsx)("img",{src:(null===u||void 0===u?void 0:u.photos.large)||we.a,alt:"My_ava"}),e.isOwner&&Object(Oe.jsxs)("div",{className:De.a.inputFile,children:[Object(Oe.jsx)("input",{type:"file",id:"input-file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(Oe.jsxs)("label",{htmlFor:"input-file",className:De.a.inputButton,children:[Object(Oe.jsx)("span",{className:De.a.inputButtonIcon,children:Object(Oe.jsx)("img",{src:Te,alt:"DL"})}),Object(Oe.jsx)("span",{className:De.a.inputButtonText,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"})]})]})]}),Object(Oe.jsx)(Ke,{status:e.status,setStatus:e.setStatus,userId:e.userId}),a?Object(Oe.jsx)(Le.c,{initialValues:{fullName:(null===u||void 0===u?void 0:u.fullName)||"",aboutMe:(null===u||void 0===u?void 0:u.aboutMe)||"",lookingForAJob:null===u||void 0===u?void 0:u.lookingForAJob,lookingForAJobDescription:(null===u||void 0===u?void 0:u.lookingForAJobDescription)||"",facebook:(null===u||void 0===u?void 0:u.contacts.facebook)||"",website:(null===u||void 0===u?void 0:u.contacts.website)||"",vk:(null===u||void 0===u?void 0:u.contacts.vk)||"",twitter:(null===u||void 0===u?void 0:u.contacts.twitter)||"",instagram:(null===u||void 0===u?void 0:u.contacts.instagram)||"",youtube:(null===u||void 0===u?void 0:u.contacts.youtube)||"",github:(null===u||void 0===u?void 0:u.contacts.github)||"",mainLink:(null===u||void 0===u?void 0:u.contacts.mainLink)||""},onSubmit:function(t){e.updateProfileInfo(r,l,e.userId,{userId:e.userId,fullName:t.fullName,aboutMe:t.aboutMe,lookingForAJob:t.lookingForAJob||!1,lookingForAJobDescription:t.lookingForAJobDescription,contacts:{facebook:t.facebook,github:t.github,instagram:t.instagram,mainLink:t.mainLink,twitter:t.twitter,vk:t.vk,website:t.website,youtube:t.youtube}})},children:function(e){e.errors,e.touched,e.validateField,e.validateForm;return Object(Oe.jsxs)(Le.b,{children:[Object(Oe.jsxs)("div",{className:De.a.description,children:[Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"id"}),": ",null===u||void 0===u?void 0:u.userId]}),Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"User-name"}),":",Object(Oe.jsx)(Le.a,{component:"input",type:"text",placeholder:"Your full name",name:"fullName",id:"fullName"})]}),Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"About me"}),":",Object(Oe.jsx)(Le.a,{component:"input",type:"text",placeholder:"Tell about yoursesf",name:"aboutMe",id:"aboutMe"})]}),Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"Look for a job"}),":",Object(Oe.jsx)(Le.a,{component:"input",type:"checkbox",name:"lookingForAJob",id:"lookingForAJob"})]}),Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"Look for a job (description)"}),":",Object(Oe.jsx)(Le.a,{component:"textarea",type:"text",placeholder:"Descript your job",name:"lookingForAJobDescription",id:"userlookingForAJobDescription"})]}),Object(Oe.jsxs)("ul",{className:De.a.contactsListWrap,children:[Object(Oe.jsx)("li",{className:De.a.contactsTitle,children:"Contacts:"}),Object(Oe.jsx)("ul",{className:De.a.contactsList,children:f})]})]}),Object(Oe.jsx)("div",{className:De.a.editProfileErrorMessage,children:c}),Object(Oe.jsx)(Ne.a,{buttonType:"profileInfoButton",value:"Submit"})]})}}):Object(Oe.jsxs)("div",{className:De.a.description,children:[Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"id"}),": ",null===u||void 0===u?void 0:u.userId]}),Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"User-name"}),": ",null===u||void 0===u?void 0:u.fullName]}),Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"About me"}),": ",null===u||void 0===u?void 0:u.aboutMe]}),Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"Look for a job"}),": ",(null===u||void 0===u?void 0:u.lookingForAJob)?"Yes":"no"]}),(null===u||void 0===u?void 0:u.lookingForAJob)&&Object(Oe.jsxs)("div",{className:De.a.profileInfoItem,children:[Object(Oe.jsx)("span",{children:"Look for a job (description)"}),": ",null===u||void 0===u?void 0:u.lookingForAJobDescription]}),Object(Oe.jsxs)("ul",{className:De.a.contactsListWrap,children:[Object(Oe.jsx)("li",{className:De.a.contactsTitle,children:"Contacts:"}),Object(Oe.jsx)("ul",{className:De.a.contactsList,children:j})]}),e.isOwner?Object(Oe.jsx)(Ne.a,{click:function(){return r(!0)},buttonType:"profileInfoButton",value:"Edit profile info"}):Object(Oe.jsx)(Ne.a,{click:function(){e.setOpenChat(!0),u&&e.updateOrAddDialog(u.userId),u&&e.getDialogMessages(u.userId)},buttonType:"profileInfoButton",value:"Send message"})]})]}):Object(Oe.jsx)("div",{children:"YOU ARE NOT AUTHORIZED"})}):Object(Oe.jsx)(Be,{})})},Ve=Object(xe.f)(Object(fe.b)((function(e){return{status:e.profilePage.status,profileInfo:e.profilePage.profileInfo,isAuth:e.auth.isAuth,userId:e.auth.id}}),{getProfileData:P,getStatus:w,setStatus:function(e,t){return function(n){c.c.setStatus(e).then((function(e){0===e.data.resultCode&&n(w(t))}))}},savePhoto:function(e){return function(t){c.c.savePhoto(e).then((function(e){var n;console.log(e),0===e.data.resultCode&&t((n=e.data.data.photos,{type:_,photos:n}))}))}},updateProfileInfo:function(e,t,n,s){return function(a){c.c.updateProfileInfo(s).then((function(s){console.log(s.data.messages[0]),0===s.data.resultCode?n&&(a(P(n)),e(!1),t("")):1===s.data.resultCode&&t(s.data.messages[0])}))}},setOpenChat:ne,updateOrAddDialog:m.g,getDialogMessages:m.d})((function(e){var t=e.match.params.userId;return t||(t=e.userId)||e.history.push("/login"),Object(s.useEffect)((function(){e.getStatus(t)}),[e.userId,t]),Object(s.useEffect)((function(){e.getProfileData(t)}),[e.userId,t]),Object(Oe.jsx)(Re,{status:e.status,profileInfo:e.profileInfo,isAuth:e.isAuth,userId:e.userId,setStatus:e.setStatus,isOwner:!e.match.params.userId,savePhoto:e.savePhoto,updateProfileInfo:e.updateProfileInfo,setOpenChat:e.setOpenChat,updateOrAddDialog:e.updateOrAddDialog,getDialogMessages:e.getDialogMessages})}))),Je=a.a.memo((function(e){return Object(Oe.jsx)("div",{className:Ue.a.profileContainer,children:Object(Oe.jsxs)("div",{className:Ue.a.profilePage,children:[Object(Oe.jsx)(Ve,{}),Object(Oe.jsx)(Ee,{})]})})})),ze=Ie(Object(fe.b)((function(e){return{}}),{})(Je)),He=n(24),We=n.n(He),qe=function(e){return Object(Oe.jsx)("div",{className:We.a.inputWrap,children:Object(Oe.jsx)("input",{className:We.a.input+" "+We.a[e.inputTypeStyle],value:e.value,onChange:e.onChange,placeholder:e.placeholder,type:e.type})})},Qe=n(21),Ge=n.n(Qe),Ze=function(e){var t=Object(s.useState)(!1),n=Object(je.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)(e.pageSize),i=Object(je.a)(o,2),c=i[0],l=i[1];return Object(Oe.jsxs)("div",{className:Ge.a.usersSetWrap,children:[Object(Oe.jsx)("h3",{className:Ge.a.usersSetTitle,children:"Users-settings"}),Object(Oe.jsx)("div",{className:Ge.a.usersSetContent,children:a?Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{children:["Enter number users in one page (from 1 to 100):",Object(Oe.jsx)(qe,{onChange:function(e){l(+e.target.value)},value:c,placeholder:"Enter number of users",inputTypeStyle:"usersSettings",type:"number"})]})}):Object(Oe.jsx)("div",{children:Object(Oe.jsxs)("div",{children:["Number users in one page: ",e.pageSize]})})}),Object(Oe.jsx)("div",{className:Ge.a.usersSetButtons,children:a?Object(Oe.jsx)(Ne.a,{buttonType:"settings",click:function(){e.setPageSize(c),r(!1)},value:"Submit"}):Object(Oe.jsx)(Ne.a,{buttonType:"settings",click:function(){return r(!0)},value:"Edit settings"})})]})},Ye=W,Xe=Object(fe.b)((function(e){return{pageSize:e.usersPage.pageSize}}),{setPageSize:Ye})((function(e){return Object(Oe.jsxs)("div",{className:Ge.a.setWrap,children:[Object(Oe.jsx)("div",{className:Ge.a.setLinks,children:Object(Oe.jsx)(ge.b,{className:Ge.a.setLink,to:"/settings/users",children:Object(Oe.jsx)("div",{children:"Users-settings"})})}),Object(Oe.jsx)("div",{className:Ge.a.setPages,children:Object(Oe.jsx)(xe.b,{path:"/settings/users",render:function(){return Object(Oe.jsx)(Ze,{pageSize:e.pageSize,setPageSize:e.setPageSize})}})})]})})),$e=n(22),et=n.n($e),tt=n(30),nt=n.n(tt),st=a.a.memo((function(e){var t=e.usersCount&&Math.ceil(e.usersCount/e.pageSize),n=t&&Math.ceil(t/5),s=5*e.currentPorsion-5,a=5*e.currentPorsion,r=[];if(t)for(var o=1;o<=t;o++)r.push(o);var i=r.filter((function(e){return e>s&&e<=a})).map((function(t){return Object(Oe.jsx)("span",{className:nt.a.page+" "+(e.currentPage===t?nt.a.currentPage:""),onClick:function(){e.getUsers(t,e.term,e.isFriend),e.setCurrentPage(t)},children:t},t)}));return Object(Oe.jsxs)("div",{className:nt.a.paginator,children:[e.currentPorsion>1&&Object(Oe.jsx)("span",{className:nt.a.arrows,onClick:function(){return e.setCurrentPorsion((function(e){return e-1}))},children:"\u2b05"}),Object(Oe.jsx)("span",{className:nt.a.pages,children:i}),n&&e.currentPorsion<n&&Object(Oe.jsx)("span",{className:nt.a.arrows,onClick:function(){return e.setCurrentPorsion((function(e){return e+1}))},children:"\u27a1"})]})})),at=n(68),rt=n.n(at),ot=function(e){return Object(Oe.jsxs)("div",{className:rt.a.searchUsers,children:[Object(Oe.jsx)("input",{value:e.value,onChange:e.onChange,placeholder:e.placeholder,onKeyPress:e.onKeyPress}),Object(Oe.jsx)("ion-icon",{name:"search-outline"})]})},it=a.a.memo((function(e){var t,n=Object(s.useState)(""),a=Object(je.a)(n,2),r=a[0],o=a[1],i=Object(s.useState)(!1),l=Object(je.a)(i,2),u=l[0],d=l[1],j=Object(s.useState)(1),f=Object(je.a)(j,2),g=f[0],p=f[1],b=Object(s.useState)(1),h=Object(je.a)(b,2),O=h[0],m=h[1];Object(s.useEffect)((function(){e.getUsers(e.currentPage,e.term,e.isFriend)}),[]),Object(s.useEffect)((function(){c.f.getUsersMy().then((function(e){return console.log(e)}))}),[]);var x=null===(t=e.users)||void 0===t?void 0:t.map((function(t){return Object(Oe.jsx)(ct,{id:t.id,photoUrl:t.photos.small,name:t.name,status:t.status,followingInProgressUsersId:e.followingInProgressUsersId,followed:t.followed,followPost:e.followPost,followDelete:e.followDelete},t.id)}));return Object(Oe.jsx)(Oe.Fragment,{children:e.inProgress?Object(Oe.jsx)(Be,{}):Object(Oe.jsxs)("div",{className:et.a.usersWrap,children:[Object(Oe.jsx)(st,{usersCount:e.usersCount,pageSize:e.pageSize,term:e.term,isFriend:e.isFriend,getUsers:e.getUsers,currentPage:g,setCurrentPage:p,currentPorsion:O,setCurrentPorsion:m}),Object(Oe.jsxs)("div",{className:et.a.filterUsersBlock,children:[Object(Oe.jsx)(ot,{placeholder:"Search users",value:r,onChange:function(e){o(e.target.value)},onKeyPress:function(t){13===t.charCode&&(o(""),e.getUsers(e.currentPage,r,e.isFriend))}}),Object(Oe.jsx)(Ne.a,{buttonType:"usersFriendsSearch",click:function(){u?(d(!1),e.getUsers(e.currentPage,e.term,!1)):(d(!0),e.getUsers(e.currentPage,e.term,!0))},value:u?"All Users":"Only friends"})]}),x]})})})),ct=a.a.memo((function(e){return Object(Oe.jsxs)("div",{className:et.a.userWrap,children:[Object(Oe.jsx)("div",{className:et.a.ava,children:Object(Oe.jsx)(ge.b,{to:"/profile/".concat(e.id),children:Object(Oe.jsx)("img",{src:e.photoUrl?e.photoUrl:we.a,alt:"UserAva"})})}),Object(Oe.jsx)("div",{className:et.a.userName,children:e.name}),Object(Oe.jsx)("div",{className:et.a.status,children:e.status}),Object(Oe.jsx)("div",{className:et.a.followButton,children:Object(Oe.jsx)(Ne.a,{value:!0===e.followed?"unfollow":"follow",click:function(){!1===e.followed?e.followPost(e.id):!0===e.followed&&e.followDelete(e.id)},buttonType:"followUnfollow",disabled:e.followingInProgressUsersId.some((function(t){return t===e.id}))})}),Object(Oe.jsx)("div",{className:et.a.country,children:"Country: props.location.country"}),Object(Oe.jsx)("div",{className:et.a.city,children:"City: props.location.city"})]})})),lt=n(71),ut=Object(lt.a)((function(e){return e.usersPage.users}),(function(e){return e&&e.filter((function(e){return!0}))})),dt=a.a.memo((function(e){return Object(Oe.jsx)(it,{users:e.users,usersCount:e.usersCount,pageSize:e.pageSize,currentPage:e.currentPage,term:e.term,isFriend:e.isFriend,inProgress:e.inProgress,followingInProgressUsersId:e.followingInProgressUsersId,getUsers:function(t,n,s){e.getUsers(e.pageSize,t,n,s)},followPost:e.followPost,followDelete:e.followDelete})})),jt=Object(fe.b)((function(e){return{users:ut(e),usersCount:e.usersPage.usersCount,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,term:e.usersPage.term,isFriend:e.usersPage.isFriend,inProgress:e.usersPage.inProgress,followingInProgressUsersId:e.usersPage.followingInProgressUsersId}}),{getUsers:function(e,t,n,s){return function(a){a(q(t)),a(Q(n)),a(G(s)),a(z(!0)),c.f.getUsers(e,t,n,s).then((function(e){a(J(e.data.totalCount)),a(V(e.data.items)),a(z(!1))}))}},followPost:Z,followDelete:Y})(dt),ft=a.a.memo((function(){return Object(Oe.jsxs)("div",{className:Ae.a.mainContainer,children:[Object(Oe.jsx)(xe.b,{path:"/profile/:userId?",render:function(){return Object(Oe.jsx)(ze,{})}}),Object(Oe.jsx)(xe.b,{path:"/dialogs",render:function(){return Object(Oe.jsx)(_e,{})}}),Object(Oe.jsx)(xe.b,{path:"/users",render:function(){return Object(Oe.jsx)(jt,{})}}),Object(Oe.jsx)(xe.b,{path:"/settings",render:function(){return Object(Oe.jsx)(Xe,{})}})]})})),gt=n(26),pt=n.n(gt),bt=function(){return Object(Oe.jsx)("nav",{className:pt.a.navContainer,children:Object(Oe.jsxs)("ul",{className:pt.a.navList,children:[Object(Oe.jsx)(ge.b,{activeClassName:pt.a.active,to:"/profile",children:Object(Oe.jsx)("li",{children:"Profile"})}),Object(Oe.jsx)(ge.b,{activeClassName:pt.a.active,to:"/dialogs",children:Object(Oe.jsx)("li",{children:"Messages"})}),Object(Oe.jsx)(ge.b,{activeClassName:pt.a.active,to:"/users",children:Object(Oe.jsx)("li",{children:"Users"})}),Object(Oe.jsx)(ge.b,{activeClassName:pt.a.active,to:"/news",children:Object(Oe.jsx)("li",{children:"News"})}),Object(Oe.jsx)(ge.b,{activeClassName:pt.a.active,to:"/music",children:Object(Oe.jsx)("li",{children:"Music"})}),Object(Oe.jsx)(ge.b,{activeClassName:pt.a.active,to:"settings",children:Object(Oe.jsx)("li",{children:"Settings"})})]})})},ht=n(69),Ot=n.n(ht),mt=function(){return Object(Oe.jsx)("div",{className:Ot.a.footerContainer,children:"Footer"})},xt=n(70),vt=n.n(xt),At=function(){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)("button",{className:vt.a.hello,id:"hello",children:"Hello!"})})},It=n(17),St=n.n(It);function _t(e){var t;return e?e.length<4?t="Min length is 4 symbols":e.length>40&&(t="Max length is 40 symbols"):t="Field is required",t}var kt=n(41),Ut=["field","form"],Ct=function(e){var t=e.field,n=e.form,s=Object(kt.a)(e,Ut),a=t.name,r=n.errors[a]&&n.touched[a];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("div",{className:We.a.inputWrap,children:Object(Oe.jsx)("input",Object(i.a)(Object(i.a)({className:We.a.input+" "+(r?We.a.errorInput:"")},t),s))}),r&&Object(Oe.jsx)("div",{className:We.a.errorMessage,children:n.errors[a]})]})},Pt=n(31),wt=n.n(Pt),Nt=["field","form"],yt=function(e){var t=e.field,n=(e.form,Object(kt.a)(e,Nt)),a=Object(s.useState)(!1),r=Object(je.a)(a,2),o=r[0],c=r[1];return Object(Oe.jsxs)("label",{className:wt.a.checkLabel,children:[Object(Oe.jsx)("input",Object(i.a)(Object(i.a)({className:wt.a.checkbox,type:"checkbox",onClick:function(e){c(e.target.checked)}},t),n)),Object(Oe.jsxs)("div",{className:wt.a.icon,children:[Object(Oe.jsx)("div",{className:wt.a.shadow}),Object(Oe.jsx)("div",{className:wt.a.iconBox,children:Object(Oe.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:o?wt.a.svgIcon:"",viewBox:"0 0 512 512",fill:o?"#00ffe2":"#333",children:[Object(Oe.jsx)("title",{children:"Power"}),Object(Oe.jsx)("path",{d:"M256 464c-114.69 0-208-93.47-208-208.35 0-62.45 27.25-121 74.76-160.55a22 22 0 1128.17 33.8C113.48 160.1 92 206.3 92 255.65 92 346.27 165.57 420 256 420s164-73.73 164-164.35A164 164 0 00360.17 129a22 22 0 1128-33.92A207.88 207.88 0 01464 255.65C464 370.53 370.69 464 256 464z"}),Object(Oe.jsx)("path",{d:"M256 272a22 22 0 01-22-22V70a22 22 0 0144 0v180a22 22 0 01-22 22z"})]})})]})]})},Ft=Object(fe.b)((function(e){return{isAuth:e.auth.isAuth,errorMessage:e.auth.errorMessage,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,s){return function(a){c.a.login(e,t,n,s).then((function(e){e.data.resultCode===c.d.Success?(console.log(e),a(b()),a(g("")),a(p(null))):e.data.resultCode===c.e.CaptchaIsRequired?(a(O()),a(g(e.data.messages[0]))):a(g(e.data.messages[0]))}))}},logout:h})((function(e){return Object(Oe.jsx)("div",{className:St.a.loginWrap,children:e.isAuth?Object(Oe.jsx)("button",{onClick:function(){return e.logout()},children:"Log out"}):Object(Oe.jsx)(Le.c,{initialValues:{email:"",password:"",rememberMe:!1,captcha:null},onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha),console.log(t)},children:function(t){t.errors,t.touched,t.validateField,t.validateForm;return Object(Oe.jsxs)(Le.b,{children:[Object(Oe.jsx)("div",{className:St.a.inputItem,children:Object(Oe.jsxs)("label",{className:St.a.loginLabel,htmlFor:"email",children:[Object(Oe.jsx)("span",{className:St.a.fieldDescriotion,children:"E-mail:"}),Object(Oe.jsx)(Le.a,{type:"email",id:"email",component:Ct,name:"email",placeholder:"Email",validate:_t})]})}),Object(Oe.jsx)("div",{className:St.a.inputItem,children:Object(Oe.jsxs)("label",{className:St.a.loginLabel,htmlFor:"password",children:[Object(Oe.jsx)("span",{className:St.a.fieldDescriotion,children:"Password:"}),Object(Oe.jsx)(Le.a,{type:"password",id:"password",component:Ct,name:"password",placeholder:"Password",validate:_t})]})}),Object(Oe.jsxs)("div",{className:St.a.inputItem,children:[Object(Oe.jsx)("span",{className:St.a.fieldDescriotion,children:"Remember me:"}),Object(Oe.jsx)(Le.a,{type:"checkbox",id:"rememberMe",name:"rememberMe",component:yt})]}),e.captchaUrl&&Object(Oe.jsxs)("div",{className:St.a.captchaBlock,children:[Object(Oe.jsx)("img",{src:e.captchaUrl,alt:"captcha"}),Object(Oe.jsx)("label",{className:St.a.loginLabel,htmlFor:"email",children:Object(Oe.jsx)(Le.a,{type:"text",id:"captcha",component:Ct,name:"captcha",placeholder:"Enter symbols from image"})})]}),Object(Oe.jsx)("div",{className:St.a.commonErrorMessage,children:e.errorMessage}),Object(Oe.jsx)(Ne.a,{value:"submit",buttonType:"login"})]})}})})})),Et=n(18),Mt=n.n(Et),Dt=a.a.memo((function(e){var t,n=Object(s.useState)(!1),a=Object(je.a)(n,2),r=a[0],o=a[1];Object(s.useEffect)((function(){e.getFriends()}),[]);var i=e.friends&&e.friends.sort((function(){return Math.round(100*Math.random())-50})),c=null===i||void 0===i?void 0:i.map((function(e){var t=e.name.slice(0,7);return Object(Oe.jsx)("div",{className:Mt.a.demoItem,children:Object(Oe.jsxs)(ge.b,{to:"/profile/".concat(e.id),exact:!0,className:Mt.a.navLinkFriend,children:[Object(Oe.jsx)("div",{className:Mt.a.demoImg,children:Object(Oe.jsx)("img",{src:e.photos.small||we.a,alt:"Friend"})}),Object(Oe.jsxs)("div",{className:Mt.a.demoName,children:[t,"..."]})]})},e.id)})).slice(0,6),l=null===(t=e.friends)||void 0===t?void 0:t.map((function(t){return Object(Oe.jsx)(ct,{id:t.id,photoUrl:t.photos.small,name:t.name,status:t.status,followingInProgressUsersId:e.followingInProgressUsersId,followed:t.followed,followPost:e.followPost,followDelete:e.followDelete},t.id)}));return Object(Oe.jsxs)("div",{className:Mt.a.friendsBlock,children:[Object(Oe.jsxs)("div",{className:Mt.a.navFriends,children:[Object(Oe.jsx)("span",{className:Mt.a.allFriendsLink,onClick:function(){return o(!0)},children:"All friends"}),Object(Oe.jsx)("span",{children:e.friendsCount})]}),Object(Oe.jsx)("div",{className:Mt.a.demoBlock,children:c}),Object(Oe.jsxs)("div",{className:Mt.a.allFriends+" "+(r&&Mt.a.friendsBlockActive),children:[Object(Oe.jsx)("div",{className:Mt.a.closeFriendsBlock,onClick:function(){return o(!1)}}),Object(Oe.jsx)("div",{className:Mt.a.allFriendsBlock,children:l})]})]})})),Bt=Object(fe.b)((function(e){return{friends:e.aside.friends,friendsCount:e.aside.totalFriendsCount,followingInProgressUsersId:e.usersPage.followingInProgressUsersId}}),{getFriends:function(){return function(e){c.f.getUsers(100,1,"",!0).then((function(t){var n,s;e((n=t.data.items,{type:se,friends:n})),e((s=t.data.totalCount,{type:ae,count:s}))}))}},followPost:Z,followDelete:Y})(Dt),Kt=a.a.memo((function(e){var t=Object(s.useState)(!1),n=Object(je.a)(t,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){e.initialize()}),[]),e.initialized?Object(Oe.jsx)(ge.a,{children:Object(Oe.jsxs)("div",{className:"App",children:[Object(Oe.jsx)("h1",{className:"rxjs-title",children:"RxJS"}),Object(Oe.jsxs)("div",{className:"content-wrapper",children:[Object(Oe.jsx)("header",{className:"header",children:Object(Oe.jsx)(me,{isAuth:e.isAuth,login:e.login})}),Object(Oe.jsxs)("main",{className:"main",children:[Object(Oe.jsx)(ft,{}),Object(Oe.jsx)(xe.b,{path:"/login",render:function(){return Object(Oe.jsx)(Ft,{})}}),e.isOpenedChat&&Object(Oe.jsxs)("div",{className:'chatWrap + " " + '.concat(a&&"isCollapsedChat"),children:[Object(Oe.jsxs)("div",{className:"chatOptions",children:[a?Object(Oe.jsx)("div",{className:"chatOptionsItems chatExpandButton",onClick:function(){return r(!1)}}):Object(Oe.jsx)("div",{className:"chatOptionsItems chaCollapseButton",onClick:function(){return r(!0)}}),Object(Oe.jsx)("div",{className:"chatOptionsItems chatCloseButton",onClick:function(){return e.setOpenChat(!1)}})]}),Object(Oe.jsx)(_e,{})]})]}),Object(Oe.jsxs)("aside",{className:"aside",children:[Object(Oe.jsx)(bt,{}),Object(Oe.jsx)(Bt,{})]}),Object(Oe.jsx)("footer",{className:"footer",children:Object(Oe.jsx)(mt,{})}),Object(Oe.jsx)(xe.b,{path:"/rx",component:At})]})]})}):Object(Oe.jsx)(Be,{})})),Tt=Object(fe.b)((function(e){return{userId:e.auth.id,login:e.auth.login,email:e.auth.email,isAuth:e.auth.isAuth,initialized:e.app.initialized,isOpenedChat:e.app.isOpendChat}}),{getAuthData:b,initialize:function(){return function(e){e(b()).then((function(){e({type:$})}))}},setOpenChat:ne})(Kt);de.a.render(Object(Oe.jsx)(a.a.StrictMode,{children:Object(Oe.jsx)(fe.a,{store:le,children:Object(Oe.jsx)(Tt,{})})}),document.getElementById("root")),r()},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(1);var s=n(48),a=n.n(s),r=n(0),o=function(e){return Object(r.jsx)("button",{className:a.a.button+" "+a.a[e.buttonType],onClick:e.click,children:e.value})}},16:function(e,t,n){e.exports={header:"Header_header__1B6uv",logoPic:"Header_logoPic__2V5_4",headerNavWrap:"Header_headerNavWrap__1uK21",headernavItem:"Header_headernavItem__XWIsk",headerNavItemAuth:"Header_headerNavItemAuth__3mrUX",dropdownMenu:"Header_dropdownMenu__3sOlU",dropdownMenuActive:"Header_dropdownMenuActive__2AT7E",dropDownMenuItem:"Header_dropDownMenuItem__2h3cH"}},17:function(e,t,n){e.exports={loginWrap:"Login_loginWrap__3IXLE",inputItem:"Login_inputItem__3Z6z6",loginLabel:"Login_loginLabel__12GVq",loginInputCheckbox:"Login_loginInputCheckbox__3yl8T",captchaBlock:"Login_captchaBlock__3XmRX",commonErrorMessage:"Login_commonErrorMessage__Xqqm6",fieldDescriotion:"Login_fieldDescriotion__1uJ0D"}},18:function(e,t,n){e.exports={friendsBlock:"Friends_friendsBlock__14y5s",demoBlock:"Friends_demoBlock__34UpO",navLinkFriend:"Friends_navLinkFriend__agSr7",demoItem:"Friends_demoItem__37F7p",demoImg:"Friends_demoImg__1HznC",demoName:"Friends_demoName__L2Cty",navFriends:"Friends_navFriends__1MBpw",allFriendsLink:"Friends_allFriendsLink__1_noZ",allFriends:"Friends_allFriends__CkA0z",friendsBlockActive:"Friends_friendsBlockActive__3wSrJ",allFriendsBlock:"Friends_allFriendsBlock__VyWtm",closeFriendsBlock:"Friends_closeFriendsBlock__1RiqL"}},20:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return A}));var s=n(19),a=n(2),r=n(4),o=function(){return r.b.get("dialogs")},i=function(e){return r.b.get("dialogs/".concat(e,"/messages"))},c=function(e,t){return r.b.post("dialogs/".concat(t,"/messages"),{body:e})},l=function(e){return r.b.put("dialogs/".concat(e))},u=function(e){return r.b.delete("dialogs/messages/".concat(e))},d="Viktor-gif/dialogs/SET_DIALOGS",j="Viktor-gif/dialogs/SET_DIALOG_MESSAGES",f="Viktor-gif/dialogs/CLEAN_DIALOG_MESSAGES",g="Viktor-gif/dialogs/SET_DIALOG_ID",p={dialogMessages:null,dialogs:null,currentDialogId:null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(a.a)(Object(a.a)({},e),{},{dialogs:t.dialogs});case j:return Object(a.a)(Object(a.a)({},e),{},{dialogMessages:Object(s.a)(t.messages).filter((function(e,t,n){return t>=n.length-100}))});case f:return Object(a.a)(Object(a.a)({},e),{},{dialogMessages:null});case g:return Object(a.a)(Object(a.a)({},e),{},{currentDialogId:t.id});default:return e}},h={setDialogs:function(e){return{type:d,dialogs:e}},setDialogMessages:function(e){return{type:j,messages:e}},cleanDialogMessages:function(){return{type:f}},setDialogId:function(e){return{type:g,id:e}}},O=function(){return function(e){o().then((function(t){e(h.setDialogs(t.data))}))}},m=function(e){return function(t){i(e).then((function(e){t(h.setDialogMessages(e.data.items))}))}},x=function(e,t){return function(n){c(e,t).then((function(e){0===e.data.resultCode&&n(m(t))}))}},v=function(e){return function(t){l(e).then((function(e){0===e.data.resultCode&&t(O())}))}},A=function(e,t){return function(n){u(e).then((function(e){0===e.data.resultCode&&n(m(t))}))}}},21:function(e,t,n){e.exports={setWrap:"Settings_setWrap__2OR1I",setLinks:"Settings_setLinks__2ToC6",setLink:"Settings_setLink__kBIZU",usersSetTitle:"Settings_usersSetTitle___nT9-",usersSetContent:"Settings_usersSetContent__3ZntT"}},22:function(e,t,n){e.exports={usersWrap:"Users_usersWrap__1j_EP",userWrap:"Users_userWrap__2dkC6",ava:"Users_ava__26Ip4",userName:"Users_userName__2mK_o",followButton:"Users_followButton__339bS",status:"Users_status__25ogQ",country:"Users_country__1Eis8",city:"Users_city__23emo",page:"Users_page__2psBq",filterUsersBlock:"Users_filterUsersBlock__1LU17"}},24:function(e,t,n){e.exports={inputWrap:"Input_inputWrap__SHz1D",input:"Input_input__2DnRK",errorInput:"Input_errorInput__1wsye",errorMessage:"Input_errorMessage__C0btO"}},26:function(e,t,n){e.exports={navContainer:"Nav_navContainer__2AlnK",navList:"Nav_navList__ji-YX",active:"Nav_active__361ys"}},27:function(e,t,n){"use strict";t.a="data:image/jpeg;base64,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"},29:function(e,t,n){e.exports={postsTitle:"MyPosts_postsTitle__1r7hU",postsForm:"MyPosts_postsForm__2yBE_",postsFormInput:"MyPosts_postsFormInput__12trM",submitBtn:"MyPosts_submitBtn__35lwJ",post:"MyPosts_post__kma67",postAva:"MyPosts_postAva__3lkRK",postText:"MyPosts_postText__2qwvw",likes:"MyPosts_likes__1fApj"}},3:function(e,t,n){e.exports={profileInfoContainer:"ProfileInfo_profileInfoContainer__1_F3Q",ava:"ProfileInfo_ava__2JOF7",inputFile:"ProfileInfo_inputFile__hdbMG",inputButton:"ProfileInfo_inputButton__126_u",inputButtonIcon:"ProfileInfo_inputButtonIcon__1wKKi",inputButtonText:"ProfileInfo_inputButtonText__2Lqb_",description:"ProfileInfo_description__1-tPa",profileInfoItem:"ProfileInfo_profileInfoItem__2InUL",contactsTitle:"ProfileInfo_contactsTitle__3zzw2",contactsListWrap:"ProfileInfo_contactsListWrap__A2N4r",contactsList:"ProfileInfo_contactsList__2um-u",contactItem:"ProfileInfo_contactItem__2Ums3",profileStatus:"ProfileInfo_profileStatus__8_wwk",editProfileErrorMessage:"ProfileInfo_editProfileErrorMessage__1862D"}},30:function(e,t,n){e.exports={paginator:"Paginator_paginator__hRyR5",pages:"Paginator_pages__1W1SN",page:"Paginator_page__1Dopj",currentPage:"Paginator_currentPage__1D5eb",arrows:"Paginator_arrows__SxZ6l"}},31:function(e,t,n){e.exports={checkLabel:"Checkbox_checkLabel__ocP7U",checkbox:"Checkbox_checkbox__mkpAj",icon:"Checkbox_icon__3Osuv",iconBox:"Checkbox_iconBox__3Iq_o",svgIcon:"Checkbox_svgIcon__18PNR",shadow:"Checkbox_shadow__h17XB"}},4:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return l}));var s,a,r=n(60),o=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"8844171b-8f1f-4905-bc9a-c6a452eff646"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(s||(s={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}));var i={getAuthData:function(){return o.get("auth/me")},login:function(e,t,n,s){return console.log(s),o.post("auth/login",{email:e,password:t,rememberMe:n,captcha:s})},logout:function(){return o.delete("auth/login")},getCaptchaUrl:function(){return o.get("security/get-captcha-url")}};i.getAuthData().then((function(e){return e.data}));var c={getUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.get("users?count=".concat(e,"&page=").concat(t,"&term=").concat(n,"&friend=").concat(s))},getUsersMy:function(){return fetch("/users")},followPost:function(e){return o.post("follow/".concat(e))},followDelete:function(e){return o.delete("follow/".concat(e))}},l={savePhoto:function(e){var t=new FormData;return t.append("image",e),o.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},updateProfileInfo:function(e){return o.put("profile",e)},setStatus:function(e){return o.put("profile/status/",{status:e})},getStatus:function(e){return o.get("profile/status/".concat(e))},getProfileData:function(e){return o.get("profile/".concat(e))}}},47:function(e,t,n){e.exports={profilePage:"Profile_profilePage__1JzIQ"}},48:function(e,t,n){e.exports={button:"Button_button__1HP0a",settings:"Button_settings__5tYvw",usersFriendsSearch:"Button_usersFriendsSearch__18C_j",followUnfollow:"Button_followUnfollow__26WkZ",profileInfoButton:"Button_profileInfoButton__2rivJ",addPost:"Button_addPost__3giYV",addMessage:"Button_addMessage__1P790",commonChat:"Button_commonChat__1a9-U",deleteMessage:"Button_deleteMessage__1Jax8",login:"Button_login__F0Brn"}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return F}));var s=n(44),a=n.n(s),r=n(61),o=n(2),i=n(19),c={"messages-received":[],"status-changed":[]},l=null,u=function(){console.log("CLOSE WS"),setTimeout((function(){return g()}),3e3),c["status-changed"].forEach((function(e){return e("pending")}))},d=function(e){var t=JSON.parse(e.data);c["messages-received"].forEach((function(e){return e(t)}))},j=function(){c["status-changed"].forEach((function(e){return e("ready")}))},f=function(){console.log("ERROR<<<<<<"),c["status-changed"].forEach((function(e){return e("error")}))};function g(){p(),c["status-changed"].forEach((function(e){return e("pending")})),(l=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("close",u),l.addEventListener("message",d),l.addEventListener("error",f),l.addEventListener("open",j)}function p(){var e,t,n,s,a;null===(e=l)||void 0===e||e.close(),null===(t=l)||void 0===t||t.removeEventListener("close",u),null===(n=l)||void 0===n||n.removeEventListener("message",d),null===(s=l)||void 0===s||s.removeEventListener("open",j),null===(a=l)||void 0===a||a.removeEventListener("error",f)}var b=function(e,t){return c[e].push(t),function(){c[e]=c[e].filter((function(e){return e!==t}))}},h=function(e,t){c[e]=c[e].filter((function(e){return e!==t}))},O=function(e){var t;null===(t=l)||void 0===t||t.send(e)},m=function(){g()},x=function(){c["messages-received"]=[],c["status-changed"]=[],p()},v=n(108),A="Viktor-gif/chat/UPDATE_MESSAGES",I="Viktor-gif/chat/REMOVE_MESSAGES",S="Viktor-gif/chat/SET_STATUS",_={messages:null,status:"pending"},k=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case A:return n.messages&&(e=console).log.apply(e,Object(i.a)(n.messages)),Object(o.a)(Object(o.a)({},t),{},{messages:t.messages?[].concat(Object(i.a)(t.messages),Object(i.a)(n.newMessages.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:Object(v.a)()})})))).filter((function(e,t,n){return t>=n.length-100})):Object(i.a)(n.newMessages.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:Object(v.a)()})}))).filter((function(e,t,n){return t>=n.length-100}))});case I:return Object(o.a)(Object(o.a)({},t),{},{messages:null});case S:return Object(o.a)(Object(o.a)({},t),{},{status:n.status});default:return t}},U=null,C=function(e){return null===U&&(U=function(t){e({type:A,newMessages:t})}),U},P=null,w=function(e){return null===P&&(P=function(t){e(function(e){return{type:S,status:e}}(t))}),P},N=function(){return function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(),b("messages-received",C(t)),b("status-changed",w(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(e){x(),h("messages-received",C(e)),h("status-changed",w(e)),e({type:I})}},F=function(e){return function(t){O(e)}}},50:function(e,t,n){},65:function(e,t,n){},68:function(e,t,n){e.exports={searchUsers:"SearchInput_searchUsers__3AeIG"}},69:function(e,t,n){e.exports={footerContainer:"Footer_footerContainer__2sMgM"}},70:function(e,t,n){e.exports={hello:"RxjsLearn_hello__3WCfv"}},95:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.ea3e1664.chunk.js.map